{"remainingRequest":"E:\\Users\\David\\Documents\\TicketingProject\\node_modules\\thread-loader\\dist\\cjs.js??ref--9-2!E:\\Users\\David\\Documents\\TicketingProject\\node_modules\\ts-loader\\index.js??ref--9-3!E:\\Users\\David\\Documents\\TicketingProject\\node_modules\\angular-router-loader\\src\\index.js!E:\\Users\\David\\Documents\\TicketingProject\\node_modules\\tslint-loader\\index.js!E:\\Users\\David\\Documents\\TicketingProject\\src\\main\\webapp\\app\\core\\tracker\\tracker.service.ts","dependencies":[{"path":"E:\\Users\\David\\Documents\\TicketingProject\\src\\main\\webapp\\app\\core\\tracker\\tracker.service.ts","mtime":1568209498031},{"path":"E:\\Users\\David\\Documents\\TicketingProject\\node_modules\\angular2-template-loader\\index.js","mtime":1486570058000},{"path":"E:\\Users\\David\\Documents\\TicketingProject\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\Users\\David\\Documents\\TicketingProject\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\Users\\David\\Documents\\TicketingProject\\node_modules\\ts-loader\\index.js","mtime":499162500000},{"path":"E:\\Users\\David\\Documents\\TicketingProject\\node_modules\\angular-router-loader\\src\\index.js","mtime":1512749902000},{"path":"E:\\Users\\David\\Documents\\TicketingProject\\node_modules\\tslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tICJ0c2xpYiI7DQp2YXIgX2EsIF9iLCBfYywgX2Q7DQppbXBvcnQgeyBJbmplY3RhYmxlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7DQppbXBvcnQgeyBSb3V0ZXIsIE5hdmlnYXRpb25FbmQgfSBmcm9tICdAYW5ndWxhci9yb3V0ZXInOw0KaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJ3J4anMnOw0KaW1wb3J0IHsgTG9jYXRpb24gfSBmcm9tICdAYW5ndWxhci9jb21tb24nOw0KaW1wb3J0IHsgQ1NSRlNlcnZpY2UgfSBmcm9tICcuLi9hdXRoL2NzcmYuc2VydmljZSc7DQppbXBvcnQgeyBBdXRoU2VydmVyUHJvdmlkZXIgfSBmcm9tICcuLi9hdXRoL2F1dGgtand0LnNlcnZpY2UnOw0KaW1wb3J0ICogYXMgU29ja0pTIGZyb20gJ3NvY2tqcy1jbGllbnQnOw0KaW1wb3J0ICogYXMgU3RvbXAgZnJvbSAnd2Vic3RvbXAtY2xpZW50JzsNCmxldCBKaGlUcmFja2VyU2VydmljZSA9IGNsYXNzIEpoaVRyYWNrZXJTZXJ2aWNlIHsNCiAgICBjb25zdHJ1Y3Rvcihyb3V0ZXIsIGF1dGhTZXJ2ZXJQcm92aWRlciwgbG9jYXRpb24sIA0KICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTogbm8tdW51c2VkLXZhcmlhYmxlDQogICAgY3NyZlNlcnZpY2UpIHsNCiAgICAgICAgdGhpcy5yb3V0ZXIgPSByb3V0ZXI7DQogICAgICAgIHRoaXMuYXV0aFNlcnZlclByb3ZpZGVyID0gYXV0aFNlcnZlclByb3ZpZGVyOw0KICAgICAgICB0aGlzLmxvY2F0aW9uID0gbG9jYXRpb247DQogICAgICAgIHRoaXMuY3NyZlNlcnZpY2UgPSBjc3JmU2VydmljZTsNCiAgICAgICAgdGhpcy5zdG9tcENsaWVudCA9IG51bGw7DQogICAgICAgIHRoaXMuc3Vic2NyaWJlciA9IG51bGw7DQogICAgICAgIHRoaXMuYWxyZWFkeUNvbm5lY3RlZE9uY2UgPSBmYWxzZTsNCiAgICAgICAgdGhpcy5jb25uZWN0aW9uID0gdGhpcy5jcmVhdGVDb25uZWN0aW9uKCk7DQogICAgICAgIHRoaXMubGlzdGVuZXIgPSB0aGlzLmNyZWF0ZUxpc3RlbmVyKCk7DQogICAgfQ0KICAgIGNvbm5lY3QoKSB7DQogICAgICAgIGlmICh0aGlzLmNvbm5lY3RlZFByb21pc2UgPT09IG51bGwpIHsNCiAgICAgICAgICAgIHRoaXMuY29ubmVjdGlvbiA9IHRoaXMuY3JlYXRlQ29ubmVjdGlvbigpOw0KICAgICAgICB9DQogICAgICAgIC8vIGJ1aWxkaW5nIGFic29sdXRlIHBhdGggc28gdGhhdCB3ZWJzb2NrZXQgZG9lc24ndCBmYWlsIHdoZW4gZGVwbG95aW5nIHdpdGggYSBjb250ZXh0IHBhdGgNCiAgICAgICAgbGV0IHVybCA9ICcvd2Vic29ja2V0L3RyYWNrZXInOw0KICAgICAgICB1cmwgPSB0aGlzLmxvY2F0aW9uLnByZXBhcmVFeHRlcm5hbFVybCh1cmwpOw0KICAgICAgICBjb25zdCBhdXRoVG9rZW4gPSB0aGlzLmF1dGhTZXJ2ZXJQcm92aWRlci5nZXRUb2tlbigpOw0KICAgICAgICBpZiAoYXV0aFRva2VuKSB7DQogICAgICAgICAgICB1cmwgKz0gJz9hY2Nlc3NfdG9rZW49JyArIGF1dGhUb2tlbjsNCiAgICAgICAgfQ0KICAgICAgICBjb25zdCBzb2NrZXQgPSBuZXcgU29ja0pTKHVybCk7DQogICAgICAgIHRoaXMuc3RvbXBDbGllbnQgPSBTdG9tcC5vdmVyKHNvY2tldCk7DQogICAgICAgIGNvbnN0IGhlYWRlcnMgPSB7fTsNCiAgICAgICAgdGhpcy5zdG9tcENsaWVudC5jb25uZWN0KGhlYWRlcnMsICgpID0+IHsNCiAgICAgICAgICAgIHRoaXMuY29ubmVjdGVkUHJvbWlzZSgnc3VjY2VzcycpOw0KICAgICAgICAgICAgdGhpcy5jb25uZWN0ZWRQcm9taXNlID0gbnVsbDsNCiAgICAgICAgICAgIHRoaXMuc2VuZEFjdGl2aXR5KCk7DQogICAgICAgICAgICBpZiAoIXRoaXMuYWxyZWFkeUNvbm5lY3RlZE9uY2UpIHsNCiAgICAgICAgICAgICAgICB0aGlzLnN1YnNjcmlwdGlvbiA9IHRoaXMucm91dGVyLmV2ZW50cy5zdWJzY3JpYmUoZXZlbnQgPT4gew0KICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnQgaW5zdGFuY2VvZiBOYXZpZ2F0aW9uRW5kKSB7DQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbmRBY3Rpdml0eSgpOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgdGhpcy5hbHJlYWR5Q29ubmVjdGVkT25jZSA9IHRydWU7DQogICAgICAgICAgICB9DQogICAgICAgIH0pOw0KICAgIH0NCiAgICBkaXNjb25uZWN0KCkgew0KICAgICAgICBpZiAodGhpcy5zdG9tcENsaWVudCAhPT0gbnVsbCkgew0KICAgICAgICAgICAgdGhpcy5zdG9tcENsaWVudC5kaXNjb25uZWN0KCk7DQogICAgICAgICAgICB0aGlzLnN0b21wQ2xpZW50ID0gbnVsbDsNCiAgICAgICAgfQ0KICAgICAgICBpZiAodGhpcy5zdWJzY3JpcHRpb24pIHsNCiAgICAgICAgICAgIHRoaXMuc3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCk7DQogICAgICAgICAgICB0aGlzLnN1YnNjcmlwdGlvbiA9IG51bGw7DQogICAgICAgIH0NCiAgICAgICAgdGhpcy5hbHJlYWR5Q29ubmVjdGVkT25jZSA9IGZhbHNlOw0KICAgIH0NCiAgICByZWNlaXZlKCkgew0KICAgICAgICByZXR1cm4gdGhpcy5saXN0ZW5lcjsNCiAgICB9DQogICAgc2VuZEFjdGl2aXR5KCkgew0KICAgICAgICBpZiAodGhpcy5zdG9tcENsaWVudCAhPT0gbnVsbCAmJiB0aGlzLnN0b21wQ2xpZW50LmNvbm5lY3RlZCkgew0KICAgICAgICAgICAgdGhpcy5zdG9tcENsaWVudC5zZW5kKCcvdG9waWMvYWN0aXZpdHknLCAvLyBkZXN0aW5hdGlvbg0KICAgICAgICAgICAgSlNPTi5zdHJpbmdpZnkoeyBwYWdlOiB0aGlzLnJvdXRlci5yb3V0ZXJTdGF0ZS5zbmFwc2hvdC51cmwgfSksIC8vIGJvZHkNCiAgICAgICAgICAgIHt9IC8vIGhlYWRlcg0KICAgICAgICAgICAgKTsNCiAgICAgICAgfQ0KICAgIH0NCiAgICBzdWJzY3JpYmUoKSB7DQogICAgICAgIHRoaXMuY29ubmVjdGlvbi50aGVuKCgpID0+IHsNCiAgICAgICAgICAgIHRoaXMuc3Vic2NyaWJlciA9IHRoaXMuc3RvbXBDbGllbnQuc3Vic2NyaWJlKCcvdG9waWMvdHJhY2tlcicsIGRhdGEgPT4gew0KICAgICAgICAgICAgICAgIHRoaXMubGlzdGVuZXJPYnNlcnZlci5uZXh0KEpTT04ucGFyc2UoZGF0YS5ib2R5KSk7DQogICAgICAgICAgICB9KTsNCiAgICAgICAgfSk7DQogICAgfQ0KICAgIHVuc3Vic2NyaWJlKCkgew0KICAgICAgICBpZiAodGhpcy5zdWJzY3JpYmVyICE9PSBudWxsKSB7DQogICAgICAgICAgICB0aGlzLnN1YnNjcmliZXIudW5zdWJzY3JpYmUoKTsNCiAgICAgICAgfQ0KICAgICAgICB0aGlzLmxpc3RlbmVyID0gdGhpcy5jcmVhdGVMaXN0ZW5lcigpOw0KICAgIH0NCiAgICBjcmVhdGVMaXN0ZW5lcigpIHsNCiAgICAgICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlKG9ic2VydmVyID0+IHsNCiAgICAgICAgICAgIHRoaXMubGlzdGVuZXJPYnNlcnZlciA9IG9ic2VydmVyOw0KICAgICAgICB9KTsNCiAgICB9DQogICAgY3JlYXRlQ29ubmVjdGlvbigpIHsNCiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+ICh0aGlzLmNvbm5lY3RlZFByb21pc2UgPSByZXNvbHZlKSk7DQogICAgfQ0KfTsNCkpoaVRyYWNrZXJTZXJ2aWNlID0gdHNsaWJfMS5fX2RlY29yYXRlKFsNCiAgICBJbmplY3RhYmxlKHsgcHJvdmlkZWRJbjogJ3Jvb3QnIH0pLA0KICAgIHRzbGliXzEuX19tZXRhZGF0YSgiZGVzaWduOnBhcmFtdHlwZXMiLCBbdHlwZW9mIChfYSA9IHR5cGVvZiBSb3V0ZXIgIT09ICJ1bmRlZmluZWQiICYmIFJvdXRlcikgPT09ICJmdW5jdGlvbiIgPyBfYSA6IE9iamVjdCwgdHlwZW9mIChfYiA9IHR5cGVvZiBBdXRoU2VydmVyUHJvdmlkZXIgIT09ICJ1bmRlZmluZWQiICYmIEF1dGhTZXJ2ZXJQcm92aWRlcikgPT09ICJmdW5jdGlvbiIgPyBfYiA6IE9iamVjdCwgdHlwZW9mIChfYyA9IHR5cGVvZiBMb2NhdGlvbiAhPT0gInVuZGVmaW5lZCIgJiYgTG9jYXRpb24pID09PSAiZnVuY3Rpb24iID8gX2MgOiBPYmplY3QsIHR5cGVvZiAoX2QgPSB0eXBlb2YgQ1NSRlNlcnZpY2UgIT09ICJ1bmRlZmluZWQiICYmIENTUkZTZXJ2aWNlKSA9PT0gImZ1bmN0aW9uIiA/IF9kIDogT2JqZWN0XSkNCl0sIEpoaVRyYWNrZXJTZXJ2aWNlKTsNCmV4cG9ydCB7IEpoaVRyYWNrZXJTZXJ2aWNlIH07DQo="},{"version":3,"file":"E:\\Users\\David\\Documents\\TicketingProject\\src\\main\\webapp\\app\\core\\tracker\\tracker.service.ts","sourceRoot":"","sources":["E:\\Users\\David\\Documents\\TicketingProject\\node_modules\\angular-router-loader\\src\\index.js!E:\\Users\\David\\Documents\\TicketingProject\\node_modules\\tslint-loader\\index.js!E:\\Users\\David\\Documents\\TicketingProject\\src\\main\\webapp\\app\\core\\tracker\\tracker.service.ts"],"names":[],"mappings":"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","sourcesContent":["import { Injectable } from '@angular/core';\nimport { Router, NavigationEnd } from '@angular/router';\nimport { Observable, Observer, Subscription } from 'rxjs';\nimport { Location } from '@angular/common';\n\nimport { CSRFService } from '../auth/csrf.service';\nimport { AuthServerProvider } from '../auth/auth-jwt.service';\n\nimport * as SockJS from 'sockjs-client';\nimport * as Stomp from 'webstomp-client';\n\n@Injectable({ providedIn: 'root' })\nexport class JhiTrackerService {\n  stompClient = null;\n  subscriber = null;\n  connection: Promise<any>;\n  connectedPromise: any;\n  listener: Observable<any>;\n  listenerObserver: Observer<any>;\n  alreadyConnectedOnce = false;\n  private subscription: Subscription;\n\n  constructor(\n    private router: Router,\n    private authServerProvider: AuthServerProvider,\n    private location: Location,\n    // tslint:disable-next-line: no-unused-variable\n    private csrfService: CSRFService\n  ) {\n    this.connection = this.createConnection();\n    this.listener = this.createListener();\n  }\n\n  connect() {\n    if (this.connectedPromise === null) {\n      this.connection = this.createConnection();\n    }\n    // building absolute path so that websocket doesn't fail when deploying with a context path\n    let url = '/websocket/tracker';\n    url = this.location.prepareExternalUrl(url);\n    const authToken = this.authServerProvider.getToken();\n    if (authToken) {\n      url += '?access_token=' + authToken;\n    }\n    const socket = new SockJS(url);\n    this.stompClient = Stomp.over(socket);\n    const headers = {};\n    this.stompClient.connect(headers, () => {\n      this.connectedPromise('success');\n      this.connectedPromise = null;\n      this.sendActivity();\n      if (!this.alreadyConnectedOnce) {\n        this.subscription = this.router.events.subscribe(event => {\n          if (event instanceof NavigationEnd) {\n            this.sendActivity();\n          }\n        });\n        this.alreadyConnectedOnce = true;\n      }\n    });\n  }\n\n  disconnect() {\n    if (this.stompClient !== null) {\n      this.stompClient.disconnect();\n      this.stompClient = null;\n    }\n    if (this.subscription) {\n      this.subscription.unsubscribe();\n      this.subscription = null;\n    }\n    this.alreadyConnectedOnce = false;\n  }\n\n  receive() {\n    return this.listener;\n  }\n\n  sendActivity() {\n    if (this.stompClient !== null && this.stompClient.connected) {\n      this.stompClient.send(\n        '/topic/activity', // destination\n        JSON.stringify({ page: this.router.routerState.snapshot.url }), // body\n        {} // header\n      );\n    }\n  }\n\n  subscribe() {\n    this.connection.then(() => {\n      this.subscriber = this.stompClient.subscribe('/topic/tracker', data => {\n        this.listenerObserver.next(JSON.parse(data.body));\n      });\n    });\n  }\n\n  unsubscribe() {\n    if (this.subscriber !== null) {\n      this.subscriber.unsubscribe();\n    }\n    this.listener = this.createListener();\n  }\n\n  private createListener(): Observable<any> {\n    return new Observable(observer => {\n      this.listenerObserver = observer;\n    });\n  }\n\n  private createConnection(): Promise<any> {\n    return new Promise((resolve, reject) => (this.connectedPromise = resolve));\n  }\n}\n"]}]}