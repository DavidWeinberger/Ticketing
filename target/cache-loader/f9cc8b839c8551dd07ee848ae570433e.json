{"remainingRequest":"E:\\Users\\David\\Documents\\Ticketing\\node_modules\\thread-loader\\dist\\cjs.js??ref--9-2!E:\\Users\\David\\Documents\\Ticketing\\node_modules\\ts-loader\\index.js??ref--9-3!E:\\Users\\David\\Documents\\Ticketing\\node_modules\\angular-router-loader\\src\\index.js!E:\\Users\\David\\Documents\\Ticketing\\node_modules\\tslint-loader\\index.js!E:\\Users\\David\\Documents\\Ticketing\\src\\main\\webapp\\app\\entities\\ticket-gui\\ticket-gui.component.ts","dependencies":[{"path":"E:\\Users\\David\\Documents\\Ticketing\\src\\main\\webapp\\app\\entities\\ticket-gui\\ticket-gui.component.ts","mtime":1577719338222},{"path":"E:\\Users\\David\\Documents\\Ticketing\\node_modules\\angular2-template-loader\\index.js","mtime":1486570058000},{"path":"E:\\Users\\David\\Documents\\Ticketing\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\Users\\David\\Documents\\Ticketing\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\Users\\David\\Documents\\Ticketing\\node_modules\\ts-loader\\index.js","mtime":499162500000},{"path":"E:\\Users\\David\\Documents\\Ticketing\\node_modules\\angular-router-loader\\src\\index.js","mtime":1512749902000},{"path":"E:\\Users\\David\\Documents\\Ticketing\\node_modules\\tslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tICJ0c2xpYiI7DQp2YXIgX2EsIF9iLCBfYywgX2QsIF9lOw0KaW1wb3J0IHsgQ29tcG9uZW50LCBJbnB1dCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnOw0KaW1wb3J0IHsgVGlja2V0cyB9IGZyb20gJ2FwcC9zaGFyZWQvbW9kZWwvdGlja2V0cy5tb2RlbCc7DQppbXBvcnQgeyBBY2NvdW50U2VydmljZSB9IGZyb20gJ2FwcC9jb3JlJzsNCmltcG9ydCB7IENhcnRTZXJ2aWNlIH0gZnJvbSAnYXBwL2VudGl0aWVzL2NhcnQnOw0KaW1wb3J0IHsgQ2FydCB9IGZyb20gJ2FwcC9zaGFyZWQvbW9kZWwvY2FydC5tb2RlbCc7DQppbXBvcnQgeyBUaWNrZXRzU2VydmljZSB9IGZyb20gJ2FwcC9lbnRpdGllcy90aWNrZXRzJzsNCnZhciBUeXBlczsNCihmdW5jdGlvbiAoVHlwZXMpIHsNCiAgICBUeXBlc1tUeXBlc1siU3RlaHBsYXR6Il0gPSAwXSA9ICJTdGVocGxhdHoiOw0KICAgIFR5cGVzW1R5cGVzWyJWaXBfU3RlaHBsYXR6Il0gPSAxXSA9ICJWaXBfU3RlaHBsYXR6IjsNCiAgICBUeXBlc1tUeXBlc1siU2l0enBsYXR6Il0gPSAyXSA9ICJTaXR6cGxhdHoiOw0KfSkoVHlwZXMgfHwgKFR5cGVzID0ge30pKTsNCmxldCBUaWNrZXRHdWlDb21wb25lbnQgPSBjbGFzcyBUaWNrZXRHdWlDb21wb25lbnQgew0KICAgIGNvbnN0cnVjdG9yKGFjY291bnRTZXJ2aWNlLCBjYXJ0U2VydmljZSwgdGlja2V0U2VydmljZSkgew0KICAgICAgICB0aGlzLmFjY291bnRTZXJ2aWNlID0gYWNjb3VudFNlcnZpY2U7DQogICAgICAgIHRoaXMuY2FydFNlcnZpY2UgPSBjYXJ0U2VydmljZTsNCiAgICAgICAgdGhpcy50aWNrZXRTZXJ2aWNlID0gdGlja2V0U2VydmljZTsNCiAgICAgICAgdGhpcy5jYXJ0ID0gbmV3IENhcnQoKTsNCiAgICB9DQogICAgbmdPbkluaXQoKSB7IH0NCiAgICBzZWxlY3RUeXBlKHR5cGUpIHsNCiAgICAgICAgcmV0dXJuIFR5cGVzW3R5cGVdOw0KICAgIH0NCiAgICByZXNlcnZlKCkgew0KICAgICAgICB0aGlzLmFjY291bnQgPSB0aGlzLmFjY291bnRTZXJ2aWNlLmlkZW50aXR5KCkudGhlbigpOw0KICAgICAgICB0aGlzLmFjY291bnQudGhlbih4ID0+IHsNCiAgICAgICAgICAgIHRoaXMudXNlcklkID0gTnVtYmVyKHguaWQpOw0KICAgICAgICAgICAgdGhpcy5jYXJ0LnVzZXJJZCA9IHRoaXMudXNlcklkOw0KICAgICAgICAgICAgdGhpcy5jYXJ0LnRpY2tldElkID0gdGhpcy50aWNrZXQuaWQ7DQogICAgICAgICAgICB0aGlzLmNhcnRTZXJ2aWNlLmNyZWF0ZSh0aGlzLmNhcnQpLnN1YnNjcmliZSgpOw0KICAgICAgICB9KTsNCiAgICAgICAgdGhpcy50aWNrZXQuc3RhdGUgPSAxOw0KICAgICAgICB0aGlzLnRpY2tldFNlcnZpY2UudXBkYXRlKHRoaXMudGlja2V0KS5zdWJzY3JpYmUoKTsNCiAgICB9DQp9Ow0KdHNsaWJfMS5fX2RlY29yYXRlKFsNCiAgICBJbnB1dCgpLA0KICAgIHRzbGliXzEuX19tZXRhZGF0YSgiZGVzaWduOnR5cGUiLCB0eXBlb2YgKF9hID0gdHlwZW9mIFRpY2tldHMgIT09ICJ1bmRlZmluZWQiICYmIFRpY2tldHMpID09PSAiZnVuY3Rpb24iID8gX2EgOiBPYmplY3QpDQpdLCBUaWNrZXRHdWlDb21wb25lbnQucHJvdG90eXBlLCAidGlja2V0Iiwgdm9pZCAwKTsNCnRzbGliXzEuX19kZWNvcmF0ZShbDQogICAgSW5wdXQoKSwNCiAgICB0c2xpYl8xLl9fbWV0YWRhdGEoImRlc2lnbjp0eXBlIiwgdHlwZW9mIChfYiA9IHR5cGVvZiBCb29sZWFuICE9PSAidW5kZWZpbmVkIiAmJiBCb29sZWFuKSA9PT0gImZ1bmN0aW9uIiA/IF9iIDogT2JqZWN0KQ0KXSwgVGlja2V0R3VpQ29tcG9uZW50LnByb3RvdHlwZSwgImlzQ2FydCIsIHZvaWQgMCk7DQpUaWNrZXRHdWlDb21wb25lbnQgPSB0c2xpYl8xLl9fZGVjb3JhdGUoWw0KICAgIENvbXBvbmVudCh7DQogICAgICAgIHNlbGVjdG9yOiAnamhpLXRpY2tldC1ndWknLA0KICAgICAgICB0ZW1wbGF0ZVVybDogJy4vdGlja2V0LWd1aS5jb21wb25lbnQuaHRtbCcsDQogICAgICAgIHN0eWxlVXJsczogWycuL3RpY2tldC1ndWkuY29tcG9uZW50LnNjc3MnXQ0KICAgIH0pLA0KICAgIHRzbGliXzEuX19tZXRhZGF0YSgiZGVzaWduOnBhcmFtdHlwZXMiLCBbdHlwZW9mIChfYyA9IHR5cGVvZiBBY2NvdW50U2VydmljZSAhPT0gInVuZGVmaW5lZCIgJiYgQWNjb3VudFNlcnZpY2UpID09PSAiZnVuY3Rpb24iID8gX2MgOiBPYmplY3QsIHR5cGVvZiAoX2QgPSB0eXBlb2YgQ2FydFNlcnZpY2UgIT09ICJ1bmRlZmluZWQiICYmIENhcnRTZXJ2aWNlKSA9PT0gImZ1bmN0aW9uIiA/IF9kIDogT2JqZWN0LCB0eXBlb2YgKF9lID0gdHlwZW9mIFRpY2tldHNTZXJ2aWNlICE9PSAidW5kZWZpbmVkIiAmJiBUaWNrZXRzU2VydmljZSkgPT09ICJmdW5jdGlvbiIgPyBfZSA6IE9iamVjdF0pDQpdLCBUaWNrZXRHdWlDb21wb25lbnQpOw0KZXhwb3J0IHsgVGlja2V0R3VpQ29tcG9uZW50IH07DQo="},{"version":3,"file":"E:\\Users\\David\\Documents\\Ticketing\\src\\main\\webapp\\app\\entities\\ticket-gui\\ticket-gui.component.ts","sourceRoot":"","sources":["E:\\Users\\David\\Documents\\Ticketing\\node_modules\\angular-router-loader\\src\\index.js!E:\\Users\\David\\Documents\\Ticketing\\node_modules\\tslint-loader\\index.js!E:\\Users\\David\\Documents\\Ticketing\\src\\main\\webapp\\app\\entities\\ticket-gui\\ticket-gui.component.ts"],"names":[],"mappings":";;AAAA,OAAO,EAAE,SAAS,EAAE,KAAK,EAAU,MAAM,eAAe,CAAC;AACzD,OAAO,EAAE,OAAO,EAAE,MAAM,gCAAgC,CAAC;AACzD,OAAO,EAAE,cAAc,EAAE,MAAM,UAAU,CAAC;AAC1C,OAAO,EAAE,WAAW,EAAE,MAAM,mBAAmB,CAAC;AAChD,OAAO,EAAE,IAAI,EAAE,MAAM,6BAA6B,CAAC;AACnD,OAAO,EAAE,cAAc,EAAE,MAAM,sBAAsB,CAAC;AAEtD,IAAK,KAIJ;AAJD,WAAK,KAAK;IACR,2CAAS,CAAA;IACT,mDAAa,CAAA;IACb,2CAAS,CAAA;AACX,CAAC,EAJI,KAAK,KAAL,KAAK,QAIT;AAOD,IAAa,kBAAkB,GAA/B,MAAa,kBAAkB;IAM7B,YAAoB,cAA8B,EAAU,WAAwB,EAAU,aAA6B;QAAvG,mBAAc,GAAd,cAAc,CAAgB;QAAU,gBAAW,GAAX,WAAW,CAAa;QAAU,kBAAa,GAAb,aAAa,CAAgB;QAHnH,SAAI,GAAS,IAAI,IAAI,EAAE,CAAC;IAG8F,CAAC;IAE/H,QAAQ,KAAI,CAAC;IAEb,UAAU,CAAC,IAAY;QACrB,OAAQ,KAAK,CAAC,IAAI,CAAC,CAAC;IACtB,CAAC;IAED,OAAO;QACL,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,cAAc,CAAC,QAAQ,EAAE,CAAC,IAAI,EAAE,CAAC;QACrD,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE;YACpB,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;YAC3B,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC;YAC/B,IAAI,CAAC,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC;YACpC,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,SAAS,EAAE,CAAC;QACjD,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,MAAM,CAAC,KAAK,GAAG,CAAC,CAAC;QACtB,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,SAAS,EAAE,CAAC;IACrD,CAAC;CACF,CAAA;AAxBU;IAAR,KAAK,EAAE;0DAAS,OAAO,oBAAP,OAAO;kDAAC;AAChB;IAAR,KAAK,EAAE;0DAAS,OAAO,oBAAP,OAAO;kDAAC;AAFd,kBAAkB;IAL9B,SAAS,CAAC;QACT,QAAQ,EAAE,gBAAgB;QAC1B,WAAW,EAAE,6BAA6B;QAC1C,SAAS,EAAE,CAAC,6BAA6B,CAAC;KAC3C,CAAC;iEAOoC,cAAc,oBAAd,cAAc,oDAAuB,WAAW,oBAAX,WAAW,oDAAyB,cAAc,oBAAd,cAAc;GANhH,kBAAkB,CAyB9B;SAzBY,kBAAkB","sourcesContent":["import { Component, Input, OnInit } from '@angular/core';\r\nimport { Tickets } from 'app/shared/model/tickets.model';\r\nimport { AccountService } from 'app/core';\r\nimport { CartService } from 'app/entities/cart';\r\nimport { Cart } from 'app/shared/model/cart.model';\r\nimport { TicketsService } from 'app/entities/tickets';\r\n\r\nenum Types {\r\n  Stehplatz,\r\n  Vip_Stehplatz,\r\n  Sitzplatz\r\n}\r\n\r\n@Component({\r\n  selector: 'jhi-ticket-gui',\r\n  templateUrl: './ticket-gui.component.html',\r\n  styleUrls: ['./ticket-gui.component.scss']\r\n})\r\nexport class TicketGuiComponent implements OnInit {\r\n  @Input() ticket: Tickets;\r\n  @Input() isCart: Boolean;\r\n  private cart: Cart = new Cart();\r\n  private account: Promise<Account>;\r\n  private userId: number;\r\n  constructor(private accountService: AccountService, private cartService: CartService, private ticketService: TicketsService) {}\r\n\r\n  ngOnInit() {}\r\n\r\n  selectType(type: number) {\r\n    return  Types[type];\r\n  }\r\n\r\n  reserve() {\r\n    this.account = this.accountService.identity().then();\r\n    this.account.then(x => {\r\n      this.userId = Number(x.id);\r\n      this.cart.userId = this.userId;\r\n      this.cart.ticketId = this.ticket.id;\r\n      this.cartService.create(this.cart).subscribe();\r\n    });\r\n    this.ticket.state = 1;\r\n    this.ticketService.update(this.ticket).subscribe();\r\n  }\r\n}\r\n"]}]}