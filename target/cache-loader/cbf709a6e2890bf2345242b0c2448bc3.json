{"remainingRequest":"E:\\Users\\David\\Documents\\Ticketing\\node_modules\\thread-loader\\dist\\cjs.js??ref--9-2!E:\\Users\\David\\Documents\\Ticketing\\node_modules\\ts-loader\\index.js??ref--9-3!E:\\Users\\David\\Documents\\Ticketing\\node_modules\\angular-router-loader\\src\\index.js!E:\\Users\\David\\Documents\\Ticketing\\node_modules\\tslint-loader\\index.js!E:\\Users\\David\\Documents\\Ticketing\\src\\main\\webapp\\app\\entities\\tablet-view\\sectors\\sectors.component.ts","dependencies":[{"path":"E:\\Users\\David\\Documents\\Ticketing\\src\\main\\webapp\\app\\entities\\tablet-view\\sectors\\sectors.component.ts","mtime":1578260739356},{"path":"E:\\Users\\David\\Documents\\Ticketing\\node_modules\\angular2-template-loader\\index.js","mtime":1486570058000},{"path":"E:\\Users\\David\\Documents\\Ticketing\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\Users\\David\\Documents\\Ticketing\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\Users\\David\\Documents\\Ticketing\\node_modules\\ts-loader\\index.js","mtime":499162500000},{"path":"E:\\Users\\David\\Documents\\Ticketing\\node_modules\\angular-router-loader\\src\\index.js","mtime":1512749902000},{"path":"E:\\Users\\David\\Documents\\Ticketing\\node_modules\\tslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tICJ0c2xpYiI7DQp2YXIgX2EsIF9iLCBfYywgX2QsIF9lLCBfZjsNCmltcG9ydCB7IENvbXBvbmVudCwgSW5wdXQgfSBmcm9tICdAYW5ndWxhci9jb3JlJzsNCmltcG9ydCB7IGZpbHRlciwgbWFwIH0gZnJvbSAncnhqcy9vcGVyYXRvcnMnOw0KaW1wb3J0IHsgVGlja2V0c1NlcnZpY2UgfSBmcm9tICdhcHAvZW50aXRpZXMvdGlja2V0cyc7DQppbXBvcnQgeyBKaGlBbGVydFNlcnZpY2UgfSBmcm9tICduZy1qaGlwc3Rlcic7DQppbXBvcnQgeyBBY2NvdW50U2VydmljZSB9IGZyb20gJ2FwcC9jb3JlJzsNCmltcG9ydCB7IENhcnRTZXJ2aWNlIH0gZnJvbSAnYXBwL2VudGl0aWVzL2NhcnQnOw0KaW1wb3J0IHsgQ2FydCB9IGZyb20gJ2FwcC9zaGFyZWQvbW9kZWwvY2FydC5tb2RlbCc7DQppbXBvcnQgeyBOb3RpZmljYXRpb25TZXJ2aWNlIH0gZnJvbSAnYXBwL3NoYXJlZC9ub3RpZmljYXRpb24uc2VydmljZSc7DQpsZXQgU2VjdG9yc0NvbXBvbmVudCA9IGNsYXNzIFNlY3RvcnNDb21wb25lbnQgew0KICAgIGNvbnN0cnVjdG9yKGFjY291bnRTZXJ2aWNlLCBjYXJ0U2VydmljZSwgamhpQWxlcnRTZXJ2aWNlLCB0aWNrZXRzU2VydmljZSwgbm90aWZpY2F0aW9uU2VydmljZSkgew0KICAgICAgICB0aGlzLmFjY291bnRTZXJ2aWNlID0gYWNjb3VudFNlcnZpY2U7DQogICAgICAgIHRoaXMuY2FydFNlcnZpY2UgPSBjYXJ0U2VydmljZTsNCiAgICAgICAgdGhpcy5qaGlBbGVydFNlcnZpY2UgPSBqaGlBbGVydFNlcnZpY2U7DQogICAgICAgIHRoaXMudGlja2V0c1NlcnZpY2UgPSB0aWNrZXRzU2VydmljZTsNCiAgICAgICAgdGhpcy5ub3RpZmljYXRpb25TZXJ2aWNlID0gbm90aWZpY2F0aW9uU2VydmljZTsNCiAgICAgICAgdGhpcy50aWNrZXRzID0gW107DQogICAgICAgIHRoaXMuY2FydCA9IG5ldyBDYXJ0KCk7DQogICAgICAgIHRoaXMucGFnaW5nID0gZmFsc2U7DQogICAgICAgIHRoaXMucGFnZSA9IDA7DQogICAgfQ0KICAgIGxvYWRBbGwoKSB7DQogICAgICAgIHRoaXMudGlja2V0c1NlcnZpY2UNCiAgICAgICAgICAgIC5xdWVyeSgpDQogICAgICAgICAgICAucGlwZShmaWx0ZXIoKHJlcykgPT4gcmVzLm9rKSwgbWFwKChyZXMpID0+IHJlcy5ib2R5KSkNCiAgICAgICAgICAgIC5zdWJzY3JpYmUoKHJlcykgPT4gew0KICAgICAgICAgICAgdGhpcy50aWNrZXRzID0gcmVzOw0KICAgICAgICAgICAgdGhpcy50aWNrZXRzID0gdGhpcy50aWNrZXRzLmZpbHRlcih4ID0+IHgucGxhY2UgPT09IHRoaXMuc2VjdG9yKTsNCiAgICAgICAgICAgIHRoaXMucm93cyA9IE1hdGgubWF4LmFwcGx5KE1hdGgsIHRoaXMudGlja2V0cy5tYXAobyA9PiBvLnJvd3MpKTsNCiAgICAgICAgICAgIHRoaXMuc2VhdHMgPSBNYXRoLm1heC5hcHBseShNYXRoLCB0aGlzLnRpY2tldHMubWFwKG8gPT4gby5zZWF0cykpOw0KICAgICAgICAgICAgdGhpcy5yb3dBcnIgPSBuZXcgQXJyYXkodGhpcy5yb3dzKTsNCiAgICAgICAgICAgIHRoaXMuc2VhdEFyciA9IG5ldyBBcnJheSh0aGlzLnNlYXRzKS5maWxsKDEsIDAsIHRoaXMuc2VhdHMpOw0KICAgICAgICAgICAgaWYgKHRoaXMuc2VhdEFyci5sZW5ndGggPiAxMCkgew0KICAgICAgICAgICAgICAgIGNvbnN0IHNpZGVzID0gdGhpcy5zZWF0QXJyLmxlbmd0aCAvIDEwOw0KICAgICAgICAgICAgICAgIHRoaXMucGFnaW5nID0gdHJ1ZTsNCiAgICAgICAgICAgICAgICBpZiAodGhpcy5wYWdlID4gc2lkZXMpIHsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWF0QXJyID0gdGhpcy5zZWF0QXJyLnNsaWNlKDAgKyAoMTAgKiB0aGlzLnBhZ2UpKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgZWxzZSB7DQogICAgICAgICAgICAgICAgICAgIHRoaXMuc2VhdEFyciA9IHRoaXMuc2VhdEFyci5zbGljZSgwICsgKDEwICogdGhpcy5wYWdlKSwgMTAgKyAoMTAgKiB0aGlzLnBhZ2UpKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgY29uc29sZS5sb2codGhpcy5zZWF0QXJyKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwgKHJlcykgPT4gdGhpcy5vbkVycm9yKHJlcy5tZXNzYWdlKSk7DQogICAgfQ0KICAgIG5nT25Jbml0KCkgew0KICAgICAgICB0aGlzLmFjY291bnQgPSB0aGlzLmFjY291bnRTZXJ2aWNlLmlkZW50aXR5KCkudGhlbigpOw0KICAgICAgICB0aGlzLmFjY291bnQudGhlbih4ID0+IHsNCiAgICAgICAgICAgIHRoaXMudXNlcklkID0gTnVtYmVyKHguaWQpOw0KICAgICAgICB9KTsNCiAgICAgICAgdGhpcy5sb2FkQWxsKCk7DQogICAgICAgIHRoaXMubm90aWZpY2F0aW9uU2VydmljZS5saXN0ZW4oKS5zdWJzY3JpYmUoZGF0YSA9PiB7DQogICAgICAgICAgICBpZiAoZGF0YSAhPT0gdW5kZWZpbmVkKSB7DQogICAgICAgICAgICAgICAgY29uc3QgcGFydHMgPSBkYXRhLnRvU3RyaW5nKCkuc3BsaXQoJ3wnKTsNCiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhwYXJ0cyk7DQogICAgICAgICAgICAgICAgaWYgKHBhcnRzLmxlbmd0aCA+IDEpIHsNCiAgICAgICAgICAgICAgICAgICAgY29uc3QgY2h1bmtzID0gcGFydHNbMl0uc3BsaXQoJzonKTsNCiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuc2VjdG9yID09PSBjaHVua3NbMV0pIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9hZEFsbCgpOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICB0aGlzLmxvYWRBbGwoKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgIH0pOw0KICAgIH0NCiAgICBvbkVycm9yKGVycm9yTWVzc2FnZSkgew0KICAgICAgICB0aGlzLmpoaUFsZXJ0U2VydmljZS5lcnJvcihlcnJvck1lc3NhZ2UsIG51bGwsIG51bGwpOw0KICAgIH0NCiAgICBnZXRTdGF0ZShyb3csIHNlYXQpIHsNCiAgICAgICAgc2VhdCsrOw0KICAgICAgICByb3cgPSB0aGlzLnJvd3MgLSByb3c7DQogICAgICAgIGNvbnN0IHRpY2tldCA9IHRoaXMudGlja2V0cy5maW5kKHggPT4geC5yb3dzID09PSByb3cgJiYgeC5zZWF0cyA9PT0gc2VhdCk7DQogICAgICAgIC8vIGNvbnNvbGUubG9nKHRpY2tldCk7DQogICAgICAgIGlmICh0aWNrZXQuc3RhdGUgPT09IG51bGwgfHwgdGlja2V0LnN0YXRlID09IG51bGwgfHwgdGlja2V0LnN0YXRlID09PSB1bmRlZmluZWQpIHsNCiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdpIGFtIGhlcmUnKTsNCiAgICAgICAgICAgIHRpY2tldC5zdGF0ZSA9IDA7DQogICAgICAgIH0NCiAgICAgICAgcmV0dXJuIHRpY2tldC5zdGF0ZTsNCiAgICB9DQogICAgZG90Q2xpY2socm93LCBzZWF0KSB7DQogICAgICAgIHNlYXQrKzsNCiAgICAgICAgcm93ID0gdGhpcy5yb3dzIC0gcm93Ow0KICAgICAgICB0aGlzLnRpY2tldCA9IHRoaXMudGlja2V0cy5maW5kKHggPT4geC5yb3dzID09PSByb3cgJiYgeC5zZWF0cyA9PT0gc2VhdCk7DQogICAgICAgIGNvbnNvbGUubG9nKHRoaXMudXNlcklkKTsNCiAgICAgICAgaWYgKHRoaXMudGlja2V0LnN0YXRlID09PSAwKSB7DQogICAgICAgICAgICB0aGlzLnJlc2VydmUoKTsNCiAgICAgICAgfQ0KICAgICAgICBlbHNlIGlmICh0aGlzLnRpY2tldC5zdGF0ZSA9PT0gMSkgew0KICAgICAgICAgICAgdGhpcy5jYXJ0U2VydmljZS5maW5kQ2FydHNCeVVzZXJJZCh0aGlzLnVzZXJJZCkuc3Vic2NyaWJlKGRhdGEgPT4gew0KICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEpOw0KICAgICAgICAgICAgICAgIGRhdGEuYm9keS5mb3JFYWNoKGNhcnRzID0+IHsNCiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMudGlja2V0LmlkID09PSBjYXJ0cy50aWNrZXRJZCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2ZvdW5kJyk7DQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRpY2tldHNTZXJ2aWNlLmZpbmQoY2FydHMudGlja2V0SWQpLnRvUHJvbWlzZSgpLnRoZW4oX3RpY2tldCA9PiB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2dvdCB0aWNrZXQnKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhfdGlja2V0KTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZShfdGlja2V0LmJvZHkpOw0KICAgICAgICAgICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIH0pOw0KICAgICAgICB9DQogICAgfQ0KICAgIHJlbW92ZSh0aWNrZXQpIHsNCiAgICAgICAgdGhpcy5jYXJ0U2VydmljZS5kZWxldGVCeVRpY2tldElkKHRpY2tldC5pZCkuc3Vic2NyaWJlKCk7DQogICAgICAgIHRpY2tldC5zdGF0ZSA9IDA7DQogICAgICAgIHRoaXMudGlja2V0c1NlcnZpY2UudXBkYXRlKHRpY2tldCkuc3Vic2NyaWJlKCk7DQogICAgfQ0KICAgIHJlc2VydmUoKSB7DQogICAgICAgIHRoaXMuY2FydC51c2VySWQgPSB0aGlzLnVzZXJJZDsNCiAgICAgICAgdGhpcy5jYXJ0LnRpY2tldElkID0gdGhpcy50aWNrZXQuaWQ7DQogICAgICAgIHRoaXMuY2FydFNlcnZpY2UuY3JlYXRlKHRoaXMuY2FydCkuc3Vic2NyaWJlKCk7DQogICAgICAgIHRoaXMudGlja2V0LnN0YXRlID0gMTsNCiAgICAgICAgdGhpcy50aWNrZXRzU2VydmljZS51cGRhdGUodGhpcy50aWNrZXQpLnN1YnNjcmliZSgpOw0KICAgIH0NCiAgICBnZXRDb2xvcihzdGF0ZSkgew0KICAgICAgICBzd2l0Y2ggKHN0YXRlKSB7DQogICAgICAgICAgICBjYXNlIDA6DQogICAgICAgICAgICAgICAgcmV0dXJuICdncmVlbic7DQogICAgICAgICAgICBjYXNlIDE6DQogICAgICAgICAgICAgICAgcmV0dXJuICdnb2xkJzsNCiAgICAgICAgICAgIGNhc2UgMjoNCiAgICAgICAgICAgICAgICByZXR1cm4gJ2RhcmtncmV5JzsNCiAgICAgICAgfQ0KICAgIH0NCiAgICBuZXh0UGFnZSgpIHsNCiAgICAgICAgaWYgKHRoaXMucGFnaW5nKSB7DQogICAgICAgICAgICB0aGlzLnBhZ2UrKzsNCiAgICAgICAgICAgIHRoaXMubG9hZEFsbCgpOw0KICAgICAgICB9DQogICAgfQ0KICAgIGJhY2tQYWdlKCkgew0KICAgICAgICBpZiAodGhpcy5wYWdpbmcpIHsNCiAgICAgICAgICAgIHRoaXMucGFnZS0tOw0KICAgICAgICB9DQogICAgfQ0KfTsNCnRzbGliXzEuX19kZWNvcmF0ZShbDQogICAgSW5wdXQoKSwNCiAgICB0c2xpYl8xLl9fbWV0YWRhdGEoImRlc2lnbjp0eXBlIiwgdHlwZW9mIChfYSA9IHR5cGVvZiBTdHJpbmcgIT09ICJ1bmRlZmluZWQiICYmIFN0cmluZykgPT09ICJmdW5jdGlvbiIgPyBfYSA6IE9iamVjdCkNCl0sIFNlY3RvcnNDb21wb25lbnQucHJvdG90eXBlLCAic2VjdG9yIiwgdm9pZCAwKTsNClNlY3RvcnNDb21wb25lbnQgPSB0c2xpYl8xLl9fZGVjb3JhdGUoWw0KICAgIENvbXBvbmVudCh7DQogICAgICAgIHNlbGVjdG9yOiAnamhpLXNlY3RvcnMnLA0KICAgICAgICB0ZW1wbGF0ZVVybDogJy4vc2VjdG9ycy5jb21wb25lbnQuaHRtbCcsDQogICAgICAgIHN0eWxlVXJsczogWycuL3NlY3RvcnMuY29tcG9uZW50LnNjc3MnXQ0KICAgIH0pLA0KICAgIHRzbGliXzEuX19tZXRhZGF0YSgiZGVzaWduOnBhcmFtdHlwZXMiLCBbdHlwZW9mIChfYiA9IHR5cGVvZiBBY2NvdW50U2VydmljZSAhPT0gInVuZGVmaW5lZCIgJiYgQWNjb3VudFNlcnZpY2UpID09PSAiZnVuY3Rpb24iID8gX2IgOiBPYmplY3QsIHR5cGVvZiAoX2MgPSB0eXBlb2YgQ2FydFNlcnZpY2UgIT09ICJ1bmRlZmluZWQiICYmIENhcnRTZXJ2aWNlKSA9PT0gImZ1bmN0aW9uIiA/IF9jIDogT2JqZWN0LCB0eXBlb2YgKF9kID0gdHlwZW9mIEpoaUFsZXJ0U2VydmljZSAhPT0gInVuZGVmaW5lZCIgJiYgSmhpQWxlcnRTZXJ2aWNlKSA9PT0gImZ1bmN0aW9uIiA/IF9kIDogT2JqZWN0LCB0eXBlb2YgKF9lID0gdHlwZW9mIFRpY2tldHNTZXJ2aWNlICE9PSAidW5kZWZpbmVkIiAmJiBUaWNrZXRzU2VydmljZSkgPT09ICJmdW5jdGlvbiIgPyBfZSA6IE9iamVjdCwgdHlwZW9mIChfZiA9IHR5cGVvZiBOb3RpZmljYXRpb25TZXJ2aWNlICE9PSAidW5kZWZpbmVkIiAmJiBOb3RpZmljYXRpb25TZXJ2aWNlKSA9PT0gImZ1bmN0aW9uIiA/IF9mIDogT2JqZWN0XSkNCl0sIFNlY3RvcnNDb21wb25lbnQpOw0KZXhwb3J0IHsgU2VjdG9yc0NvbXBvbmVudCB9Ow0K"},{"version":3,"file":"E:\\Users\\David\\Documents\\Ticketing\\src\\main\\webapp\\app\\entities\\tablet-view\\sectors\\sectors.component.ts","sourceRoot":"","sources":["E:\\Users\\David\\Documents\\Ticketing\\node_modules\\angular-router-loader\\src\\index.js!E:\\Users\\David\\Documents\\Ticketing\\node_modules\\tslint-loader\\index.js!E:\\Users\\David\\Documents\\Ticketing\\src\\main\\webapp\\app\\entities\\tablet-view\\sectors\\sectors.component.ts"],"names":[],"mappings":"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","sourcesContent":["import { Component, Input, OnInit } from '@angular/core';\nimport { filter, map } from 'rxjs/operators';\nimport { HttpErrorResponse, HttpResponse } from '@angular/common/http';\nimport { ITickets } from 'app/shared/model/tickets.model';\nimport { TicketsService } from 'app/entities/tickets';\nimport { JhiAlertService } from 'ng-jhipster';\nimport { AccountService } from 'app/core';\nimport { CartService } from 'app/entities/cart';\nimport { Cart } from 'app/shared/model/cart.model';\nimport {NotificationService} from 'app/shared/notification.service';\n\n@Component({\n  selector: 'jhi-sectors',\n  templateUrl: './sectors.component.html',\n  styleUrls: ['./sectors.component.scss']\n})\nexport class SectorsComponent implements OnInit {\n  @Input() sector: String;\n  protected tickets: ITickets[] = [];\n  private rows: number;\n  private seats: number;\n  rowArr: number[];\n  seatArr: number[];\n  allSeats: number[];\n  private cart: Cart = new Cart();\n  private account: Promise<Account>;\n  private userId: number;\n  private ticket: ITickets;\n  private paging = false;\n  private page = 0;\n\n  constructor(\n    private accountService: AccountService,\n    private cartService: CartService,\n    protected jhiAlertService: JhiAlertService,\n    protected ticketsService: TicketsService,\n    protected notificationService: NotificationService\n  ) {}\n\n  loadAll() {\n    this.ticketsService\n      .query()\n      .pipe(\n        filter((res: HttpResponse<ITickets[]>) => res.ok),\n        map((res: HttpResponse<ITickets[]>) => res.body)\n      )\n      .subscribe(\n        (res: ITickets[]) => {\n          this.tickets = res;\n          this.tickets = this.tickets.filter(x => x.place === this.sector);\n          this.rows = Math.max.apply(Math, this.tickets.map(o => o.rows));\n          this.seats = Math.max.apply(Math, this.tickets.map(o => o.seats));\n          this.rowArr = new Array(this.rows);\n          this.seatArr = new Array(this.seats).fill(1, 0, this.seats);\n          if (this.seatArr.length > 10) {\n            const sides = this.seatArr.length / 10;\n            this.paging = true;\n            if (this.page > sides) {\n              this.seatArr = this.seatArr.slice(0 + (10 * this.page));\n            } else {\n              this.seatArr = this.seatArr.slice(0 + (10 * this.page), 10 + (10 * this.page));\n            }\n            console.log(this.seatArr);\n          }\n        },\n        (res: HttpErrorResponse) => this.onError(res.message)\n      );\n  }\n\n  ngOnInit() {\n    this.account = this.accountService.identity().then();\n    this.account.then(x => {\n      this.userId = Number(x.id);\n    });\n    this.loadAll();\n    this.notificationService.listen().subscribe(data => {\n      if (data !== undefined) {\n        const parts = data.toString().split('|');\n        console.log(parts);\n        if (parts.length > 1 ) {\n          const chunks = parts[2].split(':');\n          if (this.sector === chunks[1]) {\n            this.loadAll();\n          }\n        } else {\n          this.loadAll();\n        }\n      }\n    });\n  }\n\n  protected onError(errorMessage: string) {\n    this.jhiAlertService.error(errorMessage, null, null);\n  }\n\n  getState(row, seat) {\n    seat++;\n    row = this.rows - row;\n    const ticket = this.tickets.find(x => x.rows === row && x.seats === seat);\n    // console.log(ticket);\n    if (ticket.state === null || ticket.state == null || ticket.state === undefined) {\n      // console.log('i am here');\n      ticket.state = 0;\n    }\n    return ticket.state;\n  }\n\n  dotClick(row, seat) {\n    seat++;\n    row = this.rows - row;\n    this.ticket = this.tickets.find(x => x.rows === row && x.seats === seat);\n    console.log(this.userId);\n    if (this.ticket.state === 0) {\n      this.reserve();\n    } else if (this.ticket.state === 1) {\n      this.cartService.findCartsByUserId(this.userId).subscribe(data => {\n        console.log(data);\n          data.body.forEach( carts => {\n            if (this.ticket.id === carts.ticketId) {\n              console.log('found');\n              this.ticketsService.find(carts.ticketId).toPromise().then( _ticket => {\n                console.log('got ticket');\n                console.log(_ticket);\n                this.remove(_ticket.body);\n              });\n            }\n          });\n        }\n      );\n    }\n\n  }\n\n  public remove(ticket: ITickets) {\n    this.cartService.deleteByTicketId(ticket.id).subscribe();\n    ticket.state = 0;\n    this.ticketsService.update(ticket).subscribe();\n  }\n\n  reserve() {\n    this.cart.userId = this.userId;\n    this.cart.ticketId = this.ticket.id;\n    this.cartService.create(this.cart).subscribe();\n    this.ticket.state = 1;\n    this.ticketsService.update(this.ticket).subscribe();\n  }\n  getColor(state) {\n    switch (state) {\n      case 0:\n        return 'green';\n      case 1:\n        return 'gold';\n      case 2:\n        return 'darkgrey';\n    }\n  }\n\n  nextPage() {\n    if (this.paging) {\n      this.page++;\n      this.loadAll();\n    }\n  }\n\n  backPage() {\n    if (this.paging) {\n      this.page--;\n    }\n  }\n}\n"]}]}