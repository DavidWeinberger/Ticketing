{"remainingRequest":"E:\\Users\\David\\Documents\\Ticketing\\node_modules\\thread-loader\\dist\\cjs.js??ref--9-2!E:\\Users\\David\\Documents\\Ticketing\\node_modules\\ts-loader\\index.js??ref--9-3!E:\\Users\\David\\Documents\\Ticketing\\node_modules\\angular-router-loader\\src\\index.js!E:\\Users\\David\\Documents\\Ticketing\\node_modules\\tslint-loader\\index.js!E:\\Users\\David\\Documents\\Ticketing\\src\\main\\webapp\\app\\entities\\tablet-view\\sectors\\sectors.component.ts","dependencies":[{"path":"E:\\Users\\David\\Documents\\Ticketing\\src\\main\\webapp\\app\\entities\\tablet-view\\sectors\\sectors.component.ts","mtime":1577719338164},{"path":"E:\\Users\\David\\Documents\\Ticketing\\node_modules\\angular2-template-loader\\index.js","mtime":1486570058000},{"path":"E:\\Users\\David\\Documents\\Ticketing\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\Users\\David\\Documents\\Ticketing\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\Users\\David\\Documents\\Ticketing\\node_modules\\ts-loader\\index.js","mtime":499162500000},{"path":"E:\\Users\\David\\Documents\\Ticketing\\node_modules\\angular-router-loader\\src\\index.js","mtime":1512749902000},{"path":"E:\\Users\\David\\Documents\\Ticketing\\node_modules\\tslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tICJ0c2xpYiI7DQp2YXIgX2EsIF9iLCBfYywgX2QsIF9lOw0KaW1wb3J0IHsgQ29tcG9uZW50LCBJbnB1dCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnOw0KaW1wb3J0IHsgZmlsdGVyLCBtYXAgfSBmcm9tICdyeGpzL29wZXJhdG9ycyc7DQppbXBvcnQgeyBUaWNrZXRzU2VydmljZSB9IGZyb20gJ2FwcC9lbnRpdGllcy90aWNrZXRzJzsNCmltcG9ydCB7IEpoaUFsZXJ0U2VydmljZSB9IGZyb20gJ25nLWpoaXBzdGVyJzsNCmltcG9ydCB7IEFjY291bnRTZXJ2aWNlIH0gZnJvbSAnYXBwL2NvcmUnOw0KaW1wb3J0IHsgQ2FydFNlcnZpY2UgfSBmcm9tICdhcHAvZW50aXRpZXMvY2FydCc7DQppbXBvcnQgeyBDYXJ0IH0gZnJvbSAnYXBwL3NoYXJlZC9tb2RlbC9jYXJ0Lm1vZGVsJzsNCmxldCBTZWN0b3JzQ29tcG9uZW50ID0gY2xhc3MgU2VjdG9yc0NvbXBvbmVudCB7DQogICAgY29uc3RydWN0b3IoYWNjb3VudFNlcnZpY2UsIGNhcnRTZXJ2aWNlLCBqaGlBbGVydFNlcnZpY2UsIHRpY2tldHNTZXJ2aWNlKSB7DQogICAgICAgIHRoaXMuYWNjb3VudFNlcnZpY2UgPSBhY2NvdW50U2VydmljZTsNCiAgICAgICAgdGhpcy5jYXJ0U2VydmljZSA9IGNhcnRTZXJ2aWNlOw0KICAgICAgICB0aGlzLmpoaUFsZXJ0U2VydmljZSA9IGpoaUFsZXJ0U2VydmljZTsNCiAgICAgICAgdGhpcy50aWNrZXRzU2VydmljZSA9IHRpY2tldHNTZXJ2aWNlOw0KICAgICAgICB0aGlzLmNhcnQgPSBuZXcgQ2FydCgpOw0KICAgIH0NCiAgICBuZ09uSW5pdCgpIHsNCiAgICAgICAgdGhpcy50aWNrZXRzU2VydmljZQ0KICAgICAgICAgICAgLnF1ZXJ5KCkNCiAgICAgICAgICAgIC5waXBlKGZpbHRlcigocmVzKSA9PiByZXMub2spLCBtYXAoKHJlcykgPT4gcmVzLmJvZHkpKQ0KICAgICAgICAgICAgLnN1YnNjcmliZSgocmVzKSA9PiB7DQogICAgICAgICAgICB0aGlzLnRpY2tldHMgPSByZXM7DQogICAgICAgICAgICB0aGlzLnRpY2tldHMgPSB0aGlzLnRpY2tldHMuZmlsdGVyKHggPT4geC5wbGFjZSA9PT0gdGhpcy5zZWN0b3IpOw0KICAgICAgICAgICAgdGhpcy5yb3dzID0gTWF0aC5tYXguYXBwbHkoTWF0aCwgdGhpcy50aWNrZXRzLm1hcChvID0+IG8ucm93cykpOw0KICAgICAgICAgICAgdGhpcy5zZWF0cyA9IE1hdGgubWF4LmFwcGx5KE1hdGgsIHRoaXMudGlja2V0cy5tYXAobyA9PiBvLnNlYXRzKSk7DQogICAgICAgICAgICB0aGlzLnJvd0FyciA9IG5ldyBBcnJheSh0aGlzLnJvd3MpOw0KICAgICAgICAgICAgdGhpcy5zZWF0QXJyID0gbmV3IEFycmF5KHRoaXMuc2VhdHMpOw0KICAgICAgICB9LCAocmVzKSA9PiB0aGlzLm9uRXJyb3IocmVzLm1lc3NhZ2UpKTsNCiAgICB9DQogICAgb25FcnJvcihlcnJvck1lc3NhZ2UpIHsNCiAgICAgICAgdGhpcy5qaGlBbGVydFNlcnZpY2UuZXJyb3IoZXJyb3JNZXNzYWdlLCBudWxsLCBudWxsKTsNCiAgICB9DQogICAgZ2V0U3RhdGUocm93LCBzZWF0KSB7DQogICAgICAgIHNlYXQrKzsNCiAgICAgICAgcm93ID0gdGhpcy5yb3dzIC0gcm93Ow0KICAgICAgICBjb25zdCB0aWNrZXQgPSB0aGlzLnRpY2tldHMuZmluZCh4ID0+IHgucm93cyA9PT0gcm93ICYmIHguc2VhdHMgPT09IHNlYXQpOw0KICAgICAgICAvLyBjb25zb2xlLmxvZyh0aWNrZXQpOw0KICAgICAgICBpZiAodGlja2V0LnN0YXRlID09PSBudWxsIHx8IHRpY2tldC5zdGF0ZSA9PSBudWxsIHx8IHRpY2tldC5zdGF0ZSA9PT0gdW5kZWZpbmVkKSB7DQogICAgICAgICAgICBjb25zb2xlLmxvZygnaSBhbSBoZXJlJyk7DQogICAgICAgICAgICB0aWNrZXQuc3RhdGUgPSAwOw0KICAgICAgICB9DQogICAgICAgIHJldHVybiB0aWNrZXQuc3RhdGU7DQogICAgfQ0KICAgIGRvdENsaWNrKHJvdywgc2VhdCkgew0KICAgICAgICBzZWF0Kys7DQogICAgICAgIHJvdyA9IHRoaXMucm93cyAtIHJvdzsNCiAgICAgICAgY29uc29sZS5sb2cocm93ICsgJ19fX19fXy0tLS1fX19fX18nICsgc2VhdCk7DQogICAgICAgIHRoaXMudGlja2V0cy5maW5kKHggPT4geC5yb3dzID09PSByb3cgJiYgeC5zZWF0cyA9PT0gc2VhdCkuc3RhdGUgPSAxOw0KICAgICAgICB0aGlzLnRpY2tldCA9IHRoaXMudGlja2V0cy5maW5kKHggPT4geC5yb3dzID09PSByb3cgJiYgeC5zZWF0cyA9PT0gc2VhdCk7DQogICAgICAgIHRoaXMucmVzZXJ2ZSgpOw0KICAgIH0NCiAgICByZXNlcnZlKCkgew0KICAgICAgICB0aGlzLmFjY291bnQgPSB0aGlzLmFjY291bnRTZXJ2aWNlLmlkZW50aXR5KCkudGhlbigpOw0KICAgICAgICB0aGlzLmFjY291bnQudGhlbih4ID0+IHsNCiAgICAgICAgICAgIHRoaXMudXNlcklkID0gTnVtYmVyKHguaWQpOw0KICAgICAgICAgICAgdGhpcy5jYXJ0LnVzZXJJZCA9IHRoaXMudXNlcklkOw0KICAgICAgICAgICAgdGhpcy5jYXJ0LnRpY2tldElkID0gdGhpcy50aWNrZXQuaWQ7DQogICAgICAgICAgICB0aGlzLmNhcnRTZXJ2aWNlLmNyZWF0ZSh0aGlzLmNhcnQpLnN1YnNjcmliZSgpOw0KICAgICAgICB9KTsNCiAgICAgICAgdGhpcy50aWNrZXQuc3RhdGUgPSAxOw0KICAgICAgICB0aGlzLnRpY2tldHNTZXJ2aWNlLnVwZGF0ZSh0aGlzLnRpY2tldCkuc3Vic2NyaWJlKCk7DQogICAgfQ0KICAgIGdldENvbG9yKHN0YXRlKSB7DQogICAgICAgIHN3aXRjaCAoc3RhdGUpIHsNCiAgICAgICAgICAgIGNhc2UgMDoNCiAgICAgICAgICAgICAgICByZXR1cm4gJ2dyZWVuJzsNCiAgICAgICAgICAgIGNhc2UgMToNCiAgICAgICAgICAgICAgICByZXR1cm4gJ2dvbGQnOw0KICAgICAgICAgICAgY2FzZSAyOg0KICAgICAgICAgICAgICAgIHJldHVybiAnZGFya2dyZXknOw0KICAgICAgICB9DQogICAgfQ0KfTsNCnRzbGliXzEuX19kZWNvcmF0ZShbDQogICAgSW5wdXQoKSwNCiAgICB0c2xpYl8xLl9fbWV0YWRhdGEoImRlc2lnbjp0eXBlIiwgdHlwZW9mIChfYSA9IHR5cGVvZiBTdHJpbmcgIT09ICJ1bmRlZmluZWQiICYmIFN0cmluZykgPT09ICJmdW5jdGlvbiIgPyBfYSA6IE9iamVjdCkNCl0sIFNlY3RvcnNDb21wb25lbnQucHJvdG90eXBlLCAic2VjdG9yIiwgdm9pZCAwKTsNClNlY3RvcnNDb21wb25lbnQgPSB0c2xpYl8xLl9fZGVjb3JhdGUoWw0KICAgIENvbXBvbmVudCh7DQogICAgICAgIHNlbGVjdG9yOiAnamhpLXNlY3RvcnMnLA0KICAgICAgICB0ZW1wbGF0ZVVybDogJy4vc2VjdG9ycy5jb21wb25lbnQuaHRtbCcsDQogICAgICAgIHN0eWxlVXJsczogWycuL3NlY3RvcnMuY29tcG9uZW50LnNjc3MnXQ0KICAgIH0pLA0KICAgIHRzbGliXzEuX19tZXRhZGF0YSgiZGVzaWduOnBhcmFtdHlwZXMiLCBbdHlwZW9mIChfYiA9IHR5cGVvZiBBY2NvdW50U2VydmljZSAhPT0gInVuZGVmaW5lZCIgJiYgQWNjb3VudFNlcnZpY2UpID09PSAiZnVuY3Rpb24iID8gX2IgOiBPYmplY3QsIHR5cGVvZiAoX2MgPSB0eXBlb2YgQ2FydFNlcnZpY2UgIT09ICJ1bmRlZmluZWQiICYmIENhcnRTZXJ2aWNlKSA9PT0gImZ1bmN0aW9uIiA/IF9jIDogT2JqZWN0LCB0eXBlb2YgKF9kID0gdHlwZW9mIEpoaUFsZXJ0U2VydmljZSAhPT0gInVuZGVmaW5lZCIgJiYgSmhpQWxlcnRTZXJ2aWNlKSA9PT0gImZ1bmN0aW9uIiA/IF9kIDogT2JqZWN0LCB0eXBlb2YgKF9lID0gdHlwZW9mIFRpY2tldHNTZXJ2aWNlICE9PSAidW5kZWZpbmVkIiAmJiBUaWNrZXRzU2VydmljZSkgPT09ICJmdW5jdGlvbiIgPyBfZSA6IE9iamVjdF0pDQpdLCBTZWN0b3JzQ29tcG9uZW50KTsNCmV4cG9ydCB7IFNlY3RvcnNDb21wb25lbnQgfTsNCg=="},{"version":3,"file":"E:\\Users\\David\\Documents\\Ticketing\\src\\main\\webapp\\app\\entities\\tablet-view\\sectors\\sectors.component.ts","sourceRoot":"","sources":["E:\\Users\\David\\Documents\\Ticketing\\node_modules\\angular-router-loader\\src\\index.js!E:\\Users\\David\\Documents\\Ticketing\\node_modules\\tslint-loader\\index.js!E:\\Users\\David\\Documents\\Ticketing\\src\\main\\webapp\\app\\entities\\tablet-view\\sectors\\sectors.component.ts"],"names":[],"mappings":"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","sourcesContent":["import { Component, Input, OnInit } from '@angular/core';\r\nimport { filter, map } from 'rxjs/operators';\r\nimport { HttpErrorResponse, HttpResponse } from '@angular/common/http';\r\nimport { ITickets } from 'app/shared/model/tickets.model';\r\nimport { TicketsService } from 'app/entities/tickets';\r\nimport { JhiAlertService } from 'ng-jhipster';\r\nimport { AccountService } from 'app/core';\r\nimport { CartService } from 'app/entities/cart';\r\nimport { Cart } from 'app/shared/model/cart.model';\r\n\r\n@Component({\r\n  selector: 'jhi-sectors',\r\n  templateUrl: './sectors.component.html',\r\n  styleUrls: ['./sectors.component.scss']\r\n})\r\nexport class SectorsComponent implements OnInit {\r\n  @Input() sector: String;\r\n  private tickets: ITickets[];\r\n  private rows: number;\r\n  private seats: number;\r\n  private rowArr: number[];\r\n  private seatArr: number[];\r\n  private cart: Cart = new Cart();\r\n  private account: Promise<Account>;\r\n  private userId: number;\r\n  private ticket: ITickets;\r\n\r\n  constructor(\r\n    private accountService: AccountService,\r\n    private cartService: CartService,\r\n    protected jhiAlertService: JhiAlertService,\r\n    protected ticketsService: TicketsService\r\n  ) {}\r\n\r\n  ngOnInit() {\r\n    this.ticketsService\r\n      .query()\r\n      .pipe(\r\n        filter((res: HttpResponse<ITickets[]>) => res.ok),\r\n        map((res: HttpResponse<ITickets[]>) => res.body)\r\n      )\r\n      .subscribe(\r\n        (res: ITickets[]) => {\r\n          this.tickets = res;\r\n          this.tickets = this.tickets.filter(x => x.place === this.sector);\r\n          this.rows = Math.max.apply(Math, this.tickets.map(o => o.rows));\r\n          this.seats = Math.max.apply(Math, this.tickets.map(o => o.seats));\r\n          this.rowArr = new Array(this.rows);\r\n          this.seatArr = new Array(this.seats);\r\n        },\r\n        (res: HttpErrorResponse) => this.onError(res.message)\r\n      );\r\n  }\r\n\r\n  protected onError(errorMessage: string) {\r\n    this.jhiAlertService.error(errorMessage, null, null);\r\n  }\r\n\r\n  getState(row, seat) {\r\n    seat++;\r\n    row = this.rows - row;\r\n    const ticket = this.tickets.find(x => x.rows === row && x.seats === seat);\r\n    // console.log(ticket);\r\n    if (ticket.state === null || ticket.state == null || ticket.state === undefined) {\r\n      console.log('i am here');\r\n      ticket.state = 0;\r\n    }\r\n    return ticket.state;\r\n  }\r\n\r\n  dotClick(row, seat) {\r\n    seat++;\r\n    row = this.rows - row;\r\n    console.log(row + '______----______' + seat);\r\n    this.tickets.find(x => x.rows === row && x.seats === seat).state = 1;\r\n    this.ticket = this.tickets.find(x => x.rows === row && x.seats === seat);\r\n    this.reserve();\r\n  }\r\n\r\n  reserve() {\r\n    this.account = this.accountService.identity().then();\r\n    this.account.then(x => {\r\n      this.userId = Number(x.id);\r\n      this.cart.userId = this.userId;\r\n      this.cart.ticketId = this.ticket.id;\r\n      this.cartService.create(this.cart).subscribe();\r\n    });\r\n    this.ticket.state = 1;\r\n    this.ticketsService.update(this.ticket).subscribe();\r\n  }\r\n  getColor(state) {\r\n    switch (state) {\r\n      case 0:\r\n        return 'green';\r\n      case 1:\r\n        return 'gold';\r\n      case 2:\r\n        return 'darkgrey';\r\n    }\r\n  }\r\n}\r\n"]}]}