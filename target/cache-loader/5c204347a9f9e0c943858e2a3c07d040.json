{"remainingRequest":"E:\\Users\\David\\Documents\\Ticketing\\node_modules\\thread-loader\\dist\\cjs.js??ref--9-2!E:\\Users\\David\\Documents\\Ticketing\\node_modules\\ts-loader\\index.js??ref--9-3!E:\\Users\\David\\Documents\\Ticketing\\node_modules\\angular-router-loader\\src\\index.js!E:\\Users\\David\\Documents\\Ticketing\\node_modules\\tslint-loader\\index.js!E:\\Users\\David\\Documents\\Ticketing\\src\\main\\webapp\\app\\entities\\sale\\collapsable-tickets\\collapsable-tickets.component.ts","dependencies":[{"path":"E:\\Users\\David\\Documents\\Ticketing\\src\\main\\webapp\\app\\entities\\sale\\collapsable-tickets\\collapsable-tickets.component.ts","mtime":1578047688587},{"path":"E:\\Users\\David\\Documents\\Ticketing\\node_modules\\angular2-template-loader\\index.js","mtime":1486570058000},{"path":"E:\\Users\\David\\Documents\\Ticketing\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\Users\\David\\Documents\\Ticketing\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\Users\\David\\Documents\\Ticketing\\node_modules\\ts-loader\\index.js","mtime":499162500000},{"path":"E:\\Users\\David\\Documents\\Ticketing\\node_modules\\angular-router-loader\\src\\index.js","mtime":1512749902000},{"path":"E:\\Users\\David\\Documents\\Ticketing\\node_modules\\tslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tICJ0c2xpYiI7DQp2YXIgX2EsIF9iLCBfYywgX2Q7DQppbXBvcnQgeyBDb21wb25lbnQsIElucHV0IH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7DQppbXBvcnQgeyBmaWx0ZXIsIG1hcCB9IGZyb20gJ3J4anMvb3BlcmF0b3JzJzsNCmltcG9ydCB7IFRpY2tldHNTZXJ2aWNlIH0gZnJvbSAnYXBwL2VudGl0aWVzL3RpY2tldHMnOw0KaW1wb3J0IHsgSmhpQWxlcnRTZXJ2aWNlIH0gZnJvbSAnbmctamhpcHN0ZXInOw0KaW1wb3J0IHsgTm90aWZpY2F0aW9uU2VydmljZSB9IGZyb20gJ2FwcC9zaGFyZWQvbm90aWZpY2F0aW9uLnNlcnZpY2UnOw0KbGV0IENvbGxhcHNhYmxlVGlja2V0c0NvbXBvbmVudCA9IGNsYXNzIENvbGxhcHNhYmxlVGlja2V0c0NvbXBvbmVudCB7DQogICAgY29uc3RydWN0b3IodGlja2V0c1NlcnZpY2UsIGpoaUFsZXJ0U2VydmljZSwgbm90aWZpY2F0aW9uU2VydmljZSkgew0KICAgICAgICB0aGlzLnRpY2tldHNTZXJ2aWNlID0gdGlja2V0c1NlcnZpY2U7DQogICAgICAgIHRoaXMuamhpQWxlcnRTZXJ2aWNlID0gamhpQWxlcnRTZXJ2aWNlOw0KICAgICAgICB0aGlzLm5vdGlmaWNhdGlvblNlcnZpY2UgPSBub3RpZmljYXRpb25TZXJ2aWNlOw0KICAgICAgICB0aGlzLnRpY2tldHMgPSBbXTsNCiAgICAgICAgdGhpcy5vcGVuZWQgPSBmYWxzZTsNCiAgICB9DQogICAgbmdPbkluaXQoKSB7DQogICAgICAgIHRoaXMubG9hZEFsbCgpOw0KICAgICAgICB0aGlzLm5vdGlmaWNhdGlvblNlcnZpY2UubGlzdGVuKCkuc3Vic2NyaWJlKGRhdGEgPT4gew0KICAgICAgICAgICAgdGhpcy5sb2FkQWxsKCk7DQogICAgICAgIH0pOw0KICAgIH0NCiAgICBsb2FkQWxsKCkgew0KICAgICAgICB0aGlzLnRpY2tldHNTZXJ2aWNlDQogICAgICAgICAgICAucXVlcnkoKQ0KICAgICAgICAgICAgLnBpcGUoZmlsdGVyKChyZXMpID0+IHJlcy5vayksIG1hcCgocmVzKSA9PiByZXMuYm9keSkpDQogICAgICAgICAgICAuc3Vic2NyaWJlKChyZXMpID0+IHsNCiAgICAgICAgICAgIHRoaXMudGlja2V0cyA9IHJlcy5maWx0ZXIodGlja2V0ID0+IHRpY2tldC5wbGFjZSA9PT0gdGhpcy5zZWt0b3IgJiYgdGlja2V0LnN0YXRlID09PSAwKTsNCiAgICAgICAgfSwgKHJlcykgPT4gdGhpcy5vbkVycm9yKHJlcy5tZXNzYWdlKSk7DQogICAgfQ0KICAgIG9uRXJyb3IoZXJyb3JNZXNzYWdlKSB7DQogICAgICAgIHRoaXMuamhpQWxlcnRTZXJ2aWNlLmVycm9yKGVycm9yTWVzc2FnZSwgbnVsbCwgbnVsbCk7DQogICAgfQ0KICAgIG9wZW4oKSB7DQogICAgICAgIHRoaXMub3BlbmVkID0gdHJ1ZTsNCiAgICB9DQogICAgY2xvc2UoKSB7DQogICAgICAgIHRoaXMub3BlbmVkID0gZmFsc2U7DQogICAgfQ0KfTsNCnRzbGliXzEuX19kZWNvcmF0ZShbDQogICAgSW5wdXQoKSwNCiAgICB0c2xpYl8xLl9fbWV0YWRhdGEoImRlc2lnbjp0eXBlIiwgdHlwZW9mIChfYSA9IHR5cGVvZiBTdHJpbmcgIT09ICJ1bmRlZmluZWQiICYmIFN0cmluZykgPT09ICJmdW5jdGlvbiIgPyBfYSA6IE9iamVjdCkNCl0sIENvbGxhcHNhYmxlVGlja2V0c0NvbXBvbmVudC5wcm90b3R5cGUsICJzZWt0b3IiLCB2b2lkIDApOw0KQ29sbGFwc2FibGVUaWNrZXRzQ29tcG9uZW50ID0gdHNsaWJfMS5fX2RlY29yYXRlKFsNCiAgICBDb21wb25lbnQoew0KICAgICAgICBzZWxlY3RvcjogJ2poaS1jb2xsYXBzYWJsZS10aWNrZXRzJywNCiAgICAgICAgdGVtcGxhdGVVcmw6ICcuL2NvbGxhcHNhYmxlLXRpY2tldHMuY29tcG9uZW50Lmh0bWwnLA0KICAgICAgICBzdHlsZVVybHM6IFsnLi9jb2xsYXBzYWJsZS10aWNrZXRzLmNvbXBvbmVudC5zY3NzJ10NCiAgICB9KSwNCiAgICB0c2xpYl8xLl9fbWV0YWRhdGEoImRlc2lnbjpwYXJhbXR5cGVzIiwgW3R5cGVvZiAoX2IgPSB0eXBlb2YgVGlja2V0c1NlcnZpY2UgIT09ICJ1bmRlZmluZWQiICYmIFRpY2tldHNTZXJ2aWNlKSA9PT0gImZ1bmN0aW9uIiA/IF9iIDogT2JqZWN0LCB0eXBlb2YgKF9jID0gdHlwZW9mIEpoaUFsZXJ0U2VydmljZSAhPT0gInVuZGVmaW5lZCIgJiYgSmhpQWxlcnRTZXJ2aWNlKSA9PT0gImZ1bmN0aW9uIiA/IF9jIDogT2JqZWN0LCB0eXBlb2YgKF9kID0gdHlwZW9mIE5vdGlmaWNhdGlvblNlcnZpY2UgIT09ICJ1bmRlZmluZWQiICYmIE5vdGlmaWNhdGlvblNlcnZpY2UpID09PSAiZnVuY3Rpb24iID8gX2QgOiBPYmplY3RdKQ0KXSwgQ29sbGFwc2FibGVUaWNrZXRzQ29tcG9uZW50KTsNCmV4cG9ydCB7IENvbGxhcHNhYmxlVGlja2V0c0NvbXBvbmVudCB9Ow0K"},{"version":3,"file":"E:\\Users\\David\\Documents\\Ticketing\\src\\main\\webapp\\app\\entities\\sale\\collapsable-tickets\\collapsable-tickets.component.ts","sourceRoot":"","sources":["E:\\Users\\David\\Documents\\Ticketing\\node_modules\\angular-router-loader\\src\\index.js!E:\\Users\\David\\Documents\\Ticketing\\node_modules\\tslint-loader\\index.js!E:\\Users\\David\\Documents\\Ticketing\\src\\main\\webapp\\app\\entities\\sale\\collapsable-tickets\\collapsable-tickets.component.ts"],"names":[],"mappings":";;AAAA,OAAO,EAAE,SAAS,EAAE,KAAK,EAAU,MAAM,eAAe,CAAC;AACzD,OAAO,EAAE,MAAM,EAAE,GAAG,EAAE,MAAM,gBAAgB,CAAC;AAG7C,OAAO,EAAE,cAAc,EAAE,MAAM,sBAAsB,CAAC;AACtD,OAAO,EAAE,eAAe,EAAE,MAAM,aAAa,CAAC;AAC9C,OAAO,EAAE,mBAAmB,EAAE,MAAM,iCAAiC,CAAC;AAOtE,IAAa,2BAA2B,GAAxC,MAAa,2BAA2B;IAKtC,YACY,cAA8B,EAC9B,eAAgC,EAChC,mBAAwC;QAFxC,mBAAc,GAAd,cAAc,CAAgB;QAC9B,oBAAe,GAAf,eAAe,CAAiB;QAChC,wBAAmB,GAAnB,mBAAmB,CAAqB;QANpD,YAAO,GAAe,EAAE,CAAC;QACzB,WAAM,GAAG,KAAK,CAAC;IAMZ,CAAC;IAEJ,QAAQ;QACN,IAAI,CAAC,OAAO,EAAE,CAAC;QACf,IAAI,CAAC,mBAAmB,CAAC,MAAM,EAAE,CAAC,SAAS,CAAC,IAAI,CAAC,EAAE;YACjD,IAAI,CAAC,OAAO,EAAE,CAAC;QACjB,CAAC,CAAC,CAAC;IACL,CAAC;IAED,OAAO;QACL,IAAI,CAAC,cAAc;aAChB,KAAK,EAAE;aACP,IAAI,CACH,MAAM,CAAC,CAAC,GAA6B,EAAE,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EACjD,GAAG,CAAC,CAAC,GAA6B,EAAE,EAAE,CAAC,GAAG,CAAC,IAAI,CAAC,CACjD;aACA,SAAS,CACR,CAAC,GAAe,EAAE,EAAE;YAClB,IAAI,CAAC,OAAO,GAAG,GAAG,CAAC,MAAM,CAAC,MAAM,CAAC,EAAE,CAAC,MAAM,CAAC,KAAK,KAAK,IAAI,CAAC,MAAM,IAAI,MAAM,CAAC,KAAK,KAAK,CAAC,CAAC,CAAC;QAC1F,CAAC,EACD,CAAC,GAAsB,EAAE,EAAE,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,OAAO,CAAC,CACtD,CAAC;IACN,CAAC;IAEO,OAAO,CAAC,YAAoB;QAClC,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC,YAAY,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC;IACvD,CAAC;IAED,IAAI;QACF,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;IACrB,CAAC;IACD,KAAK;QACH,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;IACtB,CAAC;CACF,CAAA;AA1CU;IAAR,KAAK,EAAE;0DAAS,MAAM,oBAAN,MAAM;2DAAC;AADb,2BAA2B;IALvC,SAAS,CAAC;QACT,QAAQ,EAAE,yBAAyB;QACnC,WAAW,EAAE,sCAAsC;QACnD,SAAS,EAAE,CAAC,sCAAsC,CAAC;KACpD,CAAC;iEAO4B,cAAc,oBAAd,cAAc,oDACb,eAAe,oBAAf,eAAe,oDACX,mBAAmB,oBAAnB,mBAAmB;GARzC,2BAA2B,CA2CvC;SA3CY,2BAA2B","sourcesContent":["import { Component, Input, OnInit } from '@angular/core';\nimport { filter, map } from 'rxjs/operators';\nimport { HttpErrorResponse, HttpResponse } from '@angular/common/http';\nimport { ITickets } from 'app/shared/model/tickets.model';\nimport { TicketsService } from 'app/entities/tickets';\nimport { JhiAlertService } from 'ng-jhipster';\nimport { NotificationService } from 'app/shared/notification.service';\n\n@Component({\n  selector: 'jhi-collapsable-tickets',\n  templateUrl: './collapsable-tickets.component.html',\n  styleUrls: ['./collapsable-tickets.component.scss']\n})\nexport class CollapsableTicketsComponent implements OnInit {\n  @Input() sektor: String;\n  tickets: ITickets[] = [];\n  opened = false;\n\n  constructor(\n    protected ticketsService: TicketsService,\n    protected jhiAlertService: JhiAlertService,\n    protected notificationService: NotificationService\n  ) {}\n\n  ngOnInit() {\n    this.loadAll();\n    this.notificationService.listen().subscribe(data => {\n      this.loadAll();\n    });\n  }\n\n  loadAll() {\n    this.ticketsService\n      .query()\n      .pipe(\n        filter((res: HttpResponse<ITickets[]>) => res.ok),\n        map((res: HttpResponse<ITickets[]>) => res.body)\n      )\n      .subscribe(\n        (res: ITickets[]) => {\n          this.tickets = res.filter(ticket => ticket.place === this.sektor && ticket.state === 0);\n        },\n        (res: HttpErrorResponse) => this.onError(res.message)\n      );\n  }\n\n  private onError(errorMessage: string) {\n    this.jhiAlertService.error(errorMessage, null, null);\n  }\n\n  open() {\n    this.opened = true;\n  }\n  close() {\n    this.opened = false;\n  }\n}\n"]}]}