{"remainingRequest":"E:\\Users\\David\\Documents\\Ticketing\\node_modules\\thread-loader\\dist\\cjs.js??ref--9-2!E:\\Users\\David\\Documents\\Ticketing\\node_modules\\ts-loader\\index.js??ref--9-3!E:\\Users\\David\\Documents\\Ticketing\\node_modules\\angular-router-loader\\src\\index.js!E:\\Users\\David\\Documents\\Ticketing\\node_modules\\tslint-loader\\index.js!E:\\Users\\David\\Documents\\Ticketing\\src\\main\\webapp\\app\\entities\\tablet-view\\displaysector\\displaysector.component.ts","dependencies":[{"path":"E:\\Users\\David\\Documents\\Ticketing\\src\\main\\webapp\\app\\entities\\tablet-view\\displaysector\\displaysector.component.ts","mtime":1578265814584},{"path":"E:\\Users\\David\\Documents\\Ticketing\\node_modules\\angular2-template-loader\\index.js","mtime":1486570058000},{"path":"E:\\Users\\David\\Documents\\Ticketing\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\Users\\David\\Documents\\Ticketing\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\Users\\David\\Documents\\Ticketing\\node_modules\\ts-loader\\index.js","mtime":499162500000},{"path":"E:\\Users\\David\\Documents\\Ticketing\\node_modules\\angular-router-loader\\src\\index.js","mtime":1512749902000},{"path":"E:\\Users\\David\\Documents\\Ticketing\\node_modules\\tslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tICJ0c2xpYiI7DQp2YXIgX2EsIF9iLCBfYywgX2Q7DQppbXBvcnQgeyBDb21wb25lbnQsIElucHV0IH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7DQppbXBvcnQgeyBmaWx0ZXIsIG1hcCB9IGZyb20gJ3J4anMvb3BlcmF0b3JzJzsNCmltcG9ydCB7IFRpY2tldHNTZXJ2aWNlIH0gZnJvbSAnYXBwL2VudGl0aWVzL3RpY2tldHMnOw0KaW1wb3J0IHsgSmhpQWxlcnRTZXJ2aWNlIH0gZnJvbSAnbmctamhpcHN0ZXInOw0KaW1wb3J0IHsgTm90aWZpY2F0aW9uU2VydmljZSB9IGZyb20gJ2FwcC9zaGFyZWQvbm90aWZpY2F0aW9uLnNlcnZpY2UnOw0KbGV0IERpc3BsYXlzZWN0b3JDb21wb25lbnQgPSBjbGFzcyBEaXNwbGF5c2VjdG9yQ29tcG9uZW50IHsNCiAgICBjb25zdHJ1Y3Rvcih0aWNrZXRzU2VydmljZSwgamhpQWxlcnRTZXJ2aWNlLCBub3RpZmljYXRpb25TZXJ2aWNlKSB7DQogICAgICAgIHRoaXMudGlja2V0c1NlcnZpY2UgPSB0aWNrZXRzU2VydmljZTsNCiAgICAgICAgdGhpcy5qaGlBbGVydFNlcnZpY2UgPSBqaGlBbGVydFNlcnZpY2U7DQogICAgICAgIHRoaXMubm90aWZpY2F0aW9uU2VydmljZSA9IG5vdGlmaWNhdGlvblNlcnZpY2U7DQogICAgICAgIHRoaXMudGlja2V0cyA9IFtdOw0KICAgICAgICB0aGlzLnJvd3MgPSAwOw0KICAgICAgICB0aGlzLnNlYXRzID0gMDsNCiAgICAgICAgdGhpcy5sb2FkQWxsKCk7DQogICAgfQ0KICAgIGxvYWRBbGwoKSB7DQogICAgICAgIHRoaXMudGlja2V0c1NlcnZpY2UNCiAgICAgICAgICAgIC5xdWVyeSgpDQogICAgICAgICAgICAucGlwZShmaWx0ZXIoKHJlcykgPT4gcmVzLm9rKSwgbWFwKChyZXMpID0+IHJlcy5ib2R5KSkNCiAgICAgICAgICAgIC5zdWJzY3JpYmUoKHJlcykgPT4gew0KICAgICAgICAgICAgdGhpcy50aWNrZXRzID0gcmVzOw0KICAgICAgICAgICAgY29uc29sZS5sb2codGhpcy5zZWN0b3IudG9TdHJpbmcoKSk7DQogICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLnRpY2tldHMpOw0KICAgICAgICAgICAgdGhpcy50aWNrZXRzID0gdGhpcy50aWNrZXRzLmZpbHRlcih4ID0+IHgucGxhY2UgPT09IHRoaXMuc2VjdG9yLnRvU3RyaW5nKCkpOw0KICAgICAgICAgICAgY29uc29sZS5sb2codGhpcy50aWNrZXRzKTsNCiAgICAgICAgICAgIHRoaXMucm93cyA9IE1hdGgubWF4LmFwcGx5KE1hdGgsIHRoaXMudGlja2V0cy5tYXAobyA9PiBvLnJvd3MpKTsNCiAgICAgICAgICAgIHRoaXMuc2VhdHMgPSBNYXRoLm1heC5hcHBseShNYXRoLCB0aGlzLnRpY2tldHMubWFwKG8gPT4gby5zZWF0cykpOw0KICAgICAgICAgICAgY29uc29sZS5sb2codGhpcy5yb3dzKTsNCiAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMuc2VhdHMpOw0KICAgICAgICAgICAgdGhpcy5yb3dBcnIgPSBuZXcgQXJyYXkodGhpcy5yb3dzKTsNCiAgICAgICAgICAgIHRoaXMuc2VhdEFyciA9IG5ldyBBcnJheSh0aGlzLnNlYXRzKTsNCiAgICAgICAgfSwgKHJlcykgPT4gdGhpcy5vbkVycm9yKHJlcy5tZXNzYWdlKSk7DQogICAgfQ0KICAgIG9uRXJyb3IoZXJyb3JNZXNzYWdlKSB7DQogICAgICAgIHRoaXMuamhpQWxlcnRTZXJ2aWNlLmVycm9yKGVycm9yTWVzc2FnZSwgbnVsbCwgbnVsbCk7DQogICAgfQ0KICAgIG5nT25Jbml0KCkgew0KICAgICAgICB0aGlzLm5vdGlmaWNhdGlvblNlcnZpY2UubGlzdGVuKCkuc3Vic2NyaWJlKGRhdGEgPT4gew0KICAgICAgICAgICAgdGhpcy5sb2FkQWxsKCk7DQogICAgICAgIH0pOw0KICAgIH0NCiAgICBnZXRTdGF0ZShyb3csIHNlYXQpIHsNCiAgICAgICAgc2VhdCsrOw0KICAgICAgICByb3cgPSB0aGlzLnJvd3MgLSByb3c7DQogICAgICAgIGNvbnN0IHRpY2tldCA9IHRoaXMudGlja2V0cy5maW5kKHggPT4geC5yb3dzID09PSByb3cgJiYgeC5zZWF0cyA9PT0gc2VhdCk7DQogICAgICAgIC8vIGNvbnNvbGUubG9nKHRpY2tldCk7DQogICAgICAgIGlmICh0aWNrZXQuc3RhdGUgPT09IG51bGwgfHwgdGlja2V0LnN0YXRlID09IG51bGwgfHwgdGlja2V0LnN0YXRlID09PSB1bmRlZmluZWQpIHsNCiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdpIGFtIGhlcmUnKTsNCiAgICAgICAgICAgIHRpY2tldC5zdGF0ZSA9IDA7DQogICAgICAgIH0NCiAgICAgICAgcmV0dXJuIHRpY2tldC5zdGF0ZTsNCiAgICB9DQogICAgZ2V0Q29sb3Ioc3RhdGUpIHsNCiAgICAgICAgc3dpdGNoIChzdGF0ZSkgew0KICAgICAgICAgICAgY2FzZSAwOg0KICAgICAgICAgICAgICAgIHJldHVybiAnZ3JlZW4nOw0KICAgICAgICAgICAgY2FzZSAxOg0KICAgICAgICAgICAgICAgIHJldHVybiAnZ29sZCc7DQogICAgICAgICAgICBjYXNlIDI6DQogICAgICAgICAgICAgICAgcmV0dXJuICdkYXJrZ3JleSc7DQogICAgICAgIH0NCiAgICB9DQp9Ow0KdHNsaWJfMS5fX2RlY29yYXRlKFsNCiAgICBJbnB1dCgpLA0KICAgIHRzbGliXzEuX19tZXRhZGF0YSgiZGVzaWduOnR5cGUiLCB0eXBlb2YgKF9hID0gdHlwZW9mIFN0cmluZyAhPT0gInVuZGVmaW5lZCIgJiYgU3RyaW5nKSA9PT0gImZ1bmN0aW9uIiA/IF9hIDogT2JqZWN0KQ0KXSwgRGlzcGxheXNlY3RvckNvbXBvbmVudC5wcm90b3R5cGUsICJzZWN0b3IiLCB2b2lkIDApOw0KRGlzcGxheXNlY3RvckNvbXBvbmVudCA9IHRzbGliXzEuX19kZWNvcmF0ZShbDQogICAgQ29tcG9uZW50KHsNCiAgICAgICAgc2VsZWN0b3I6ICdqaGktZGlzcGxheXNlY3RvcicsDQogICAgICAgIHRlbXBsYXRlVXJsOiAnLi9kaXNwbGF5c2VjdG9yLmNvbXBvbmVudC5odG1sJywNCiAgICAgICAgc3R5bGVVcmxzOiBbJy4vZGlzcGxheXNlY3Rvci5jb21wb25lbnQuc2NzcyddDQogICAgfSksDQogICAgdHNsaWJfMS5fX21ldGFkYXRhKCJkZXNpZ246cGFyYW10eXBlcyIsIFt0eXBlb2YgKF9iID0gdHlwZW9mIFRpY2tldHNTZXJ2aWNlICE9PSAidW5kZWZpbmVkIiAmJiBUaWNrZXRzU2VydmljZSkgPT09ICJmdW5jdGlvbiIgPyBfYiA6IE9iamVjdCwgdHlwZW9mIChfYyA9IHR5cGVvZiBKaGlBbGVydFNlcnZpY2UgIT09ICJ1bmRlZmluZWQiICYmIEpoaUFsZXJ0U2VydmljZSkgPT09ICJmdW5jdGlvbiIgPyBfYyA6IE9iamVjdCwgdHlwZW9mIChfZCA9IHR5cGVvZiBOb3RpZmljYXRpb25TZXJ2aWNlICE9PSAidW5kZWZpbmVkIiAmJiBOb3RpZmljYXRpb25TZXJ2aWNlKSA9PT0gImZ1bmN0aW9uIiA/IF9kIDogT2JqZWN0XSkNCl0sIERpc3BsYXlzZWN0b3JDb21wb25lbnQpOw0KZXhwb3J0IHsgRGlzcGxheXNlY3RvckNvbXBvbmVudCB9Ow0K"},{"version":3,"file":"E:\\Users\\David\\Documents\\Ticketing\\src\\main\\webapp\\app\\entities\\tablet-view\\displaysector\\displaysector.component.ts","sourceRoot":"","sources":["E:\\Users\\David\\Documents\\Ticketing\\node_modules\\angular-router-loader\\src\\index.js!E:\\Users\\David\\Documents\\Ticketing\\node_modules\\tslint-loader\\index.js!E:\\Users\\David\\Documents\\Ticketing\\src\\main\\webapp\\app\\entities\\tablet-view\\displaysector\\displaysector.component.ts"],"names":[],"mappings":"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","sourcesContent":["import { Component, Input, OnInit } from '@angular/core';\nimport {filter, map} from 'rxjs/operators';\nimport {HttpErrorResponse, HttpResponse} from '@angular/common/http';\nimport {ITickets} from 'app/shared/model/tickets.model';\nimport {TicketsService} from 'app/entities/tickets';\nimport {Cart} from 'app/shared/model/cart.model';\nimport {JhiAlertService} from 'ng-jhipster';\nimport {NotificationService} from 'app/shared/notification.service';\n\n@Component({\n  selector: 'jhi-displaysector',\n  templateUrl: './displaysector.component.html',\n  styleUrls: ['./displaysector.component.scss']\n})\nexport class DisplaysectorComponent implements OnInit {\n  @Input() sector: String;\n  protected tickets: ITickets[] = [];\n  private rows = 0;\n  private seats = 0;\n  rowArr: number[];\n  seatArr: number[];\n\n  constructor(protected  ticketsService: TicketsService,\n              protected jhiAlertService: JhiAlertService,\n              protected notificationService: NotificationService) {\n    this.loadAll();\n  }\n\n  loadAll() {\n    this.ticketsService\n      .query()\n      .pipe(\n        filter((res: HttpResponse<ITickets[]>) => res.ok),\n        map((res: HttpResponse<ITickets[]>) => res.body)\n      )\n      .subscribe(\n        (res: ITickets[]) => {\n          this.tickets = res;\n          console.log(this.sector.toString());\n          console.log(this.tickets);\n          this.tickets = this.tickets.filter(x => x.place === this.sector.toString());\n          console.log(this.tickets);\n          this.rows = Math.max.apply(Math, this.tickets.map(o => o.rows));\n          this.seats = Math.max.apply(Math, this.tickets.map(o => o.seats));\n          console.log(this.rows);\n          console.log(this.seats);\n          this.rowArr = new Array(this.rows);\n          this.seatArr = new Array(this.seats);\n        },\n        (res: HttpErrorResponse) => this.onError(res.message)\n      );\n  }\n\n  protected onError(errorMessage: string) {\n    this.jhiAlertService.error(errorMessage, null, null);\n  }\n\n  ngOnInit(): void {\n    this.notificationService.listen().subscribe(data => {\n      this.loadAll();\n    });\n  }\n\n  getState(row, seat) {\n    seat++;\n    row = this.rows - row;\n    const ticket = this.tickets.find(x => x.rows === row && x.seats === seat);\n    // console.log(ticket);\n    if (ticket.state === null || ticket.state == null || ticket.state === undefined) {\n      // console.log('i am here');\n      ticket.state = 0;\n    }\n    return ticket.state;\n  }\n\n  getColor(state) {\n    switch (state) {\n      case 0:\n        return 'green';\n      case 1:\n        return 'gold';\n      case 2:\n        return 'darkgrey';\n    }\n  }\n}\n"]}]}