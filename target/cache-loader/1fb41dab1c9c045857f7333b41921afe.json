{"remainingRequest":"E:\\Users\\David\\Desktop\\TicketingProject\\node_modules\\thread-loader\\dist\\cjs.js??ref--9-2!E:\\Users\\David\\Desktop\\TicketingProject\\node_modules\\ts-loader\\index.js??ref--9-3!E:\\Users\\David\\Desktop\\TicketingProject\\node_modules\\angular-router-loader\\src\\index.js!E:\\Users\\David\\Desktop\\TicketingProject\\node_modules\\tslint-loader\\index.js!E:\\Users\\David\\Desktop\\TicketingProject\\src\\main\\webapp\\app\\core\\language\\language.helper.ts","dependencies":[{"path":"E:\\Users\\David\\Desktop\\TicketingProject\\src\\main\\webapp\\app\\core\\language\\language.helper.ts","mtime":1568209498228},{"path":"E:\\Users\\David\\Desktop\\TicketingProject\\node_modules\\angular2-template-loader\\index.js","mtime":1486570058000},{"path":"E:\\Users\\David\\Desktop\\TicketingProject\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\Users\\David\\Desktop\\TicketingProject\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\Users\\David\\Desktop\\TicketingProject\\node_modules\\ts-loader\\index.js","mtime":499162500000},{"path":"E:\\Users\\David\\Desktop\\TicketingProject\\node_modules\\angular-router-loader\\src\\index.js","mtime":1512749902000},{"path":"E:\\Users\\David\\Desktop\\TicketingProject\\node_modules\\tslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tICJ0c2xpYiI7DQp2YXIgX2EsIF9iLCBfYywgX2Q7DQppbXBvcnQgeyBJbmplY3RhYmxlLCBSZW5kZXJlckZhY3RvcnkyIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7DQppbXBvcnQgeyBUaXRsZSB9IGZyb20gJ0Bhbmd1bGFyL3BsYXRmb3JtLWJyb3dzZXInOw0KaW1wb3J0IHsgUm91dGVyIH0gZnJvbSAnQGFuZ3VsYXIvcm91dGVyJzsNCmltcG9ydCB7IFRyYW5zbGF0ZVNlcnZpY2UgfSBmcm9tICdAbmd4LXRyYW5zbGF0ZS9jb3JlJzsNCmltcG9ydCB7IEJlaGF2aW9yU3ViamVjdCB9IGZyb20gJ3J4anMnOw0KaW1wb3J0IHsgTEFOR1VBR0VTIH0gZnJvbSAnYXBwL2NvcmUvbGFuZ3VhZ2UvbGFuZ3VhZ2UuY29uc3RhbnRzJzsNCmxldCBKaGlMYW5ndWFnZUhlbHBlciA9IGNsYXNzIEpoaUxhbmd1YWdlSGVscGVyIHsNCiAgICBjb25zdHJ1Y3Rvcih0cmFuc2xhdGVTZXJ2aWNlLCB0aXRsZVNlcnZpY2UsIHJvdXRlciwgcm9vdFJlbmRlcmVyKSB7DQogICAgICAgIHRoaXMudHJhbnNsYXRlU2VydmljZSA9IHRyYW5zbGF0ZVNlcnZpY2U7DQogICAgICAgIHRoaXMudGl0bGVTZXJ2aWNlID0gdGl0bGVTZXJ2aWNlOw0KICAgICAgICB0aGlzLnJvdXRlciA9IHJvdXRlcjsNCiAgICAgICAgdGhpcy5yZW5kZXJlciA9IG51bGw7DQogICAgICAgIHRoaXMuX2xhbmd1YWdlID0gbmV3IEJlaGF2aW9yU3ViamVjdCh0aGlzLnRyYW5zbGF0ZVNlcnZpY2UuY3VycmVudExhbmcpOw0KICAgICAgICB0aGlzLnJlbmRlcmVyID0gcm9vdFJlbmRlcmVyLmNyZWF0ZVJlbmRlcmVyKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2h0bWwnKSwgbnVsbCk7DQogICAgICAgIHRoaXMuaW5pdCgpOw0KICAgIH0NCiAgICBnZXRBbGwoKSB7DQogICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoTEFOR1VBR0VTKTsNCiAgICB9DQogICAgZ2V0IGxhbmd1YWdlKCkgew0KICAgICAgICByZXR1cm4gdGhpcy5fbGFuZ3VhZ2UuYXNPYnNlcnZhYmxlKCk7DQogICAgfQ0KICAgIC8qKg0KICAgICAqIFVwZGF0ZSB0aGUgd2luZG93IHRpdGxlIHVzaW5nIHBhcmFtcyBpbiB0aGUgZm9sbG93aW5nDQogICAgICogb3JkZXI6DQogICAgICogMS4gdGl0bGVLZXkgcGFyYW1ldGVyDQogICAgICogMi4gJHN0YXRlLiRjdXJyZW50LmRhdGEucGFnZVRpdGxlIChjdXJyZW50IHN0YXRlIHBhZ2UgdGl0bGUpDQogICAgICogMy4gJ2dsb2JhbC50aXRsZScNCiAgICAgKi8NCiAgICB1cGRhdGVUaXRsZSh0aXRsZUtleSkgew0KICAgICAgICBpZiAoIXRpdGxlS2V5KSB7DQogICAgICAgICAgICB0aXRsZUtleSA9IHRoaXMuZ2V0UGFnZVRpdGxlKHRoaXMucm91dGVyLnJvdXRlclN0YXRlLnNuYXBzaG90LnJvb3QpOw0KICAgICAgICB9DQogICAgICAgIHRoaXMudHJhbnNsYXRlU2VydmljZS5nZXQodGl0bGVLZXkpLnN1YnNjcmliZSh0aXRsZSA9PiB7DQogICAgICAgICAgICB0aGlzLnRpdGxlU2VydmljZS5zZXRUaXRsZSh0aXRsZSk7DQogICAgICAgIH0pOw0KICAgIH0NCiAgICBpbml0KCkgew0KICAgICAgICB0aGlzLnRyYW5zbGF0ZVNlcnZpY2Uub25MYW5nQ2hhbmdlLnN1YnNjcmliZSgoZXZlbnQpID0+IHsNCiAgICAgICAgICAgIHRoaXMuX2xhbmd1YWdlLm5leHQodGhpcy50cmFuc2xhdGVTZXJ2aWNlLmN1cnJlbnRMYW5nKTsNCiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIuc2V0QXR0cmlidXRlKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2h0bWwnKSwgJ2xhbmcnLCB0aGlzLnRyYW5zbGF0ZVNlcnZpY2UuY3VycmVudExhbmcpOw0KICAgICAgICAgICAgdGhpcy51cGRhdGVUaXRsZSgpOw0KICAgICAgICB9KTsNCiAgICB9DQogICAgZ2V0UGFnZVRpdGxlKHJvdXRlU25hcHNob3QpIHsNCiAgICAgICAgbGV0IHRpdGxlID0gcm91dGVTbmFwc2hvdC5kYXRhICYmIHJvdXRlU25hcHNob3QuZGF0YVsncGFnZVRpdGxlJ10gPyByb3V0ZVNuYXBzaG90LmRhdGFbJ3BhZ2VUaXRsZSddIDogJ3RpY2tldGluZ1Byb2plY3RBcHAnOw0KICAgICAgICBpZiAocm91dGVTbmFwc2hvdC5maXJzdENoaWxkKSB7DQogICAgICAgICAgICB0aXRsZSA9IHRoaXMuZ2V0UGFnZVRpdGxlKHJvdXRlU25hcHNob3QuZmlyc3RDaGlsZCkgfHwgdGl0bGU7DQogICAgICAgIH0NCiAgICAgICAgcmV0dXJuIHRpdGxlOw0KICAgIH0NCn07DQpKaGlMYW5ndWFnZUhlbHBlciA9IHRzbGliXzEuX19kZWNvcmF0ZShbDQogICAgSW5qZWN0YWJsZSh7IHByb3ZpZGVkSW46ICdyb290JyB9KSwNCiAgICB0c2xpYl8xLl9fbWV0YWRhdGEoImRlc2lnbjpwYXJhbXR5cGVzIiwgW3R5cGVvZiAoX2EgPSB0eXBlb2YgVHJhbnNsYXRlU2VydmljZSAhPT0gInVuZGVmaW5lZCIgJiYgVHJhbnNsYXRlU2VydmljZSkgPT09ICJmdW5jdGlvbiIgPyBfYSA6IE9iamVjdCwgdHlwZW9mIChfYiA9IHR5cGVvZiBUaXRsZSAhPT0gInVuZGVmaW5lZCIgJiYgVGl0bGUpID09PSAiZnVuY3Rpb24iID8gX2IgOiBPYmplY3QsIHR5cGVvZiAoX2MgPSB0eXBlb2YgUm91dGVyICE9PSAidW5kZWZpbmVkIiAmJiBSb3V0ZXIpID09PSAiZnVuY3Rpb24iID8gX2MgOiBPYmplY3QsIHR5cGVvZiAoX2QgPSB0eXBlb2YgUmVuZGVyZXJGYWN0b3J5MiAhPT0gInVuZGVmaW5lZCIgJiYgUmVuZGVyZXJGYWN0b3J5MikgPT09ICJmdW5jdGlvbiIgPyBfZCA6IE9iamVjdF0pDQpdLCBKaGlMYW5ndWFnZUhlbHBlcik7DQpleHBvcnQgeyBKaGlMYW5ndWFnZUhlbHBlciB9Ow0K"},{"version":3,"file":"E:\\Users\\David\\Desktop\\TicketingProject\\src\\main\\webapp\\app\\core\\language\\language.helper.ts","sourceRoot":"","sources":["E:\\Users\\David\\Desktop\\TicketingProject\\node_modules\\angular-router-loader\\src\\index.js!E:\\Users\\David\\Desktop\\TicketingProject\\node_modules\\tslint-loader\\index.js!E:\\Users\\David\\Desktop\\TicketingProject\\src\\main\\webapp\\app\\core\\language\\language.helper.ts"],"names":[],"mappings":";;AAAA,OAAO,EAAE,UAAU,EAAE,gBAAgB,EAAa,MAAM,eAAe,CAAC;AACxE,OAAO,EAAE,KAAK,EAAE,MAAM,2BAA2B,CAAC;AAClD,OAAO,EAAE,MAAM,EAA0B,MAAM,iBAAiB,CAAC;AACjE,OAAO,EAAE,gBAAgB,EAAmB,MAAM,qBAAqB,CAAC;AACxE,OAAO,EAAE,eAAe,EAAc,MAAM,MAAM,CAAC;AAEnD,OAAO,EAAE,SAAS,EAAE,MAAM,sCAAsC,CAAC;AAGjE,IAAa,iBAAiB,GAA9B,MAAa,iBAAiB;IAI5B,YACU,gBAAkC,EAClC,YAAmB,EACnB,MAAc,EACtB,YAA8B;QAHtB,qBAAgB,GAAhB,gBAAgB,CAAkB;QAClC,iBAAY,GAAZ,YAAY,CAAO;QACnB,WAAM,GAAN,MAAM,CAAQ;QANhB,aAAQ,GAAc,IAAI,CAAC;QASjC,IAAI,CAAC,SAAS,GAAG,IAAI,eAAe,CAAS,IAAI,CAAC,gBAAgB,CAAC,WAAW,CAAC,CAAC;QAChF,IAAI,CAAC,QAAQ,GAAG,YAAY,CAAC,cAAc,CAAC,QAAQ,CAAC,aAAa,CAAC,MAAM,CAAC,EAAE,IAAI,CAAC,CAAC;QAClF,IAAI,CAAC,IAAI,EAAE,CAAC;IACd,CAAC;IAED,MAAM;QACJ,OAAO,OAAO,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC;IACpC,CAAC;IAED,IAAI,QAAQ;QACV,OAAO,IAAI,CAAC,SAAS,CAAC,YAAY,EAAE,CAAC;IACvC,CAAC;IAED;;;;;;OAMG;IACH,WAAW,CAAC,QAAiB;QAC3B,IAAI,CAAC,QAAQ,EAAE;YACb,QAAQ,GAAG,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;SACrE;QAED,IAAI,CAAC,gBAAgB,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC,SAAS,CAAC,KAAK,CAAC,EAAE;YACpD,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;QACpC,CAAC,CAAC,CAAC;IACL,CAAC;IAEO,IAAI;QACV,IAAI,CAAC,gBAAgB,CAAC,YAAY,CAAC,SAAS,CAAC,CAAC,KAAsB,EAAE,EAAE;YACtE,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,gBAAgB,CAAC,WAAW,CAAC,CAAC;YACvD,IAAI,CAAC,QAAQ,CAAC,YAAY,CAAC,QAAQ,CAAC,aAAa,CAAC,MAAM,CAAC,EAAE,MAAM,EAAE,IAAI,CAAC,gBAAgB,CAAC,WAAW,CAAC,CAAC;YACtG,IAAI,CAAC,WAAW,EAAE,CAAC;QACrB,CAAC,CAAC,CAAC;IACL,CAAC;IAEO,YAAY,CAAC,aAAqC;QACxD,IAAI,KAAK,GAAW,aAAa,CAAC,IAAI,IAAI,aAAa,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,aAAa,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,qBAAqB,CAAC;QACpI,IAAI,aAAa,CAAC,UAAU,EAAE;YAC5B,KAAK,GAAG,IAAI,CAAC,YAAY,CAAC,aAAa,CAAC,UAAU,CAAC,IAAI,KAAK,CAAC;SAC9D;QACD,OAAO,KAAK,CAAC;IACf,CAAC;CACF,CAAA;AAvDY,iBAAiB;IAD7B,UAAU,CAAC,EAAE,UAAU,EAAE,MAAM,EAAE,CAAC;iEAML,gBAAgB,oBAAhB,gBAAgB,oDACpB,KAAK,oBAAL,KAAK,oDACX,MAAM,oBAAN,MAAM,oDACR,gBAAgB,oBAAhB,gBAAgB;GARrB,iBAAiB,CAuD7B;SAvDY,iBAAiB","sourcesContent":["import { Injectable, RendererFactory2, Renderer2 } from '@angular/core';\nimport { Title } from '@angular/platform-browser';\nimport { Router, ActivatedRouteSnapshot } from '@angular/router';\nimport { TranslateService, LangChangeEvent } from '@ngx-translate/core';\nimport { BehaviorSubject, Observable } from 'rxjs';\n\nimport { LANGUAGES } from 'app/core/language/language.constants';\n\n@Injectable({ providedIn: 'root' })\nexport class JhiLanguageHelper {\n  private renderer: Renderer2 = null;\n  private _language: BehaviorSubject<string>;\n\n  constructor(\n    private translateService: TranslateService,\n    private titleService: Title,\n    private router: Router,\n    rootRenderer: RendererFactory2\n  ) {\n    this._language = new BehaviorSubject<string>(this.translateService.currentLang);\n    this.renderer = rootRenderer.createRenderer(document.querySelector('html'), null);\n    this.init();\n  }\n\n  getAll(): Promise<any> {\n    return Promise.resolve(LANGUAGES);\n  }\n\n  get language(): Observable<string> {\n    return this._language.asObservable();\n  }\n\n  /**\n   * Update the window title using params in the following\n   * order:\n   * 1. titleKey parameter\n   * 2. $state.$current.data.pageTitle (current state page title)\n   * 3. 'global.title'\n   */\n  updateTitle(titleKey?: string) {\n    if (!titleKey) {\n      titleKey = this.getPageTitle(this.router.routerState.snapshot.root);\n    }\n\n    this.translateService.get(titleKey).subscribe(title => {\n      this.titleService.setTitle(title);\n    });\n  }\n\n  private init() {\n    this.translateService.onLangChange.subscribe((event: LangChangeEvent) => {\n      this._language.next(this.translateService.currentLang);\n      this.renderer.setAttribute(document.querySelector('html'), 'lang', this.translateService.currentLang);\n      this.updateTitle();\n    });\n  }\n\n  private getPageTitle(routeSnapshot: ActivatedRouteSnapshot) {\n    let title: string = routeSnapshot.data && routeSnapshot.data['pageTitle'] ? routeSnapshot.data['pageTitle'] : 'ticketingProjectApp';\n    if (routeSnapshot.firstChild) {\n      title = this.getPageTitle(routeSnapshot.firstChild) || title;\n    }\n    return title;\n  }\n}\n"]}]}