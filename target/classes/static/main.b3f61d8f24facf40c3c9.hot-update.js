webpackHotUpdate("main",{

/***/ "./src/main/webapp/app/entities/shopping-cart/shopping-cart.component.ts":
/*!*******************************************************************************!*\
  !*** ./src/main/webapp/app/entities/shopping-cart/shopping-cart.component.ts ***!
  \*******************************************************************************/
/*! exports provided: ShoppingCartComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ShoppingCartComponent\", function() { return ShoppingCartComponent; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ \"./node_modules/@angular/core/fesm5/core.js\");\n/* harmony import */ var app_entities_cart__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! app/entities/cart */ \"./src/main/webapp/app/entities/cart/index.ts\");\n/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rxjs/operators */ \"./node_modules/rxjs/_esm5/operators/index.js\");\n/* harmony import */ var app_entities_tickets__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! app/entities/tickets */ \"./src/main/webapp/app/entities/tickets/index.ts\");\n/* harmony import */ var ng_jhipster__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ng-jhipster */ \"./node_modules/ng-jhipster/fesm5/ng-jhipster.js\");\n/* harmony import */ var app_core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! app/core */ \"./src/main/webapp/app/core/index.ts\");\n/* harmony import */ var app_shared_notification_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! app/shared/notification.service */ \"./src/main/webapp/app/shared/notification.service.ts\");\n\r\nvar _a, _b, _c, _d, _e;\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nlet ShoppingCartComponent = class ShoppingCartComponent {\r\n    constructor(cartService, ticketService, eventManager, accountService, notificationService) {\r\n        this.cartService = cartService;\r\n        this.ticketService = ticketService;\r\n        this.eventManager = eventManager;\r\n        this.accountService = accountService;\r\n        this.notificationService = notificationService;\r\n        this.tickets = [];\r\n        this.userId = 0;\r\n    }\r\n    ngOnInit() {\r\n        this.refreshCart();\r\n        this.notificationService.listen().subscribe(data => {\r\n            this.refreshCart();\r\n        });\r\n    }\r\n    refreshCart() {\r\n        const _tickets = [];\r\n        this.tickets = [];\r\n        this.cartService\r\n            .query()\r\n            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__[\"filter\"])((res) => res.ok), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__[\"map\"])((res) => res.body))\r\n            .subscribe((res) => {\r\n            this.carts = res;\r\n            this.account = this.accountService.identity().then();\r\n            this.account.then(x => {\r\n                this.userId = Number(x.id);\r\n                this.carts = this.carts.filter(data => data.userId === this.userId);\r\n                this.carts.forEach(y => {\r\n                    this.ticketService.find(y.ticketId).subscribe(ticket => {\r\n                        this.tickets.push(ticket.body);\r\n                    });\r\n                });\r\n            });\r\n        }, (res) => this.onError(res.message));\r\n    }\r\n    remove(ticket) {\r\n        const cartEntry = this.carts.find(x => x.ticketId === ticket.id);\r\n        this.cartService.delete(cartEntry.id).subscribe();\r\n        ticket.state = 0;\r\n        this.ticketService.update(ticket).subscribe();\r\n    }\r\n    onError(message) {\r\n        console.log('Error');\r\n    }\r\n};\r\nShoppingCartComponent = tslib__WEBPACK_IMPORTED_MODULE_0__[\"__decorate\"]([\r\n    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__[\"Component\"])({\r\n        selector: 'jhi-shopping-cart',\r\n        template: __webpack_require__(/*! ./shopping-cart.component.html */ \"./src/main/webapp/app/entities/shopping-cart/shopping-cart.component.html\"),\r\n        styles: [__webpack_require__(/*! ./shopping-cart.component.scss */ \"./src/main/webapp/app/entities/shopping-cart/shopping-cart.component.scss\")]\r\n    }),\r\n    tslib__WEBPACK_IMPORTED_MODULE_0__[\"__metadata\"](\"design:paramtypes\", [typeof (_a = typeof app_entities_cart__WEBPACK_IMPORTED_MODULE_2__[\"CartService\"] !== \"undefined\" && app_entities_cart__WEBPACK_IMPORTED_MODULE_2__[\"CartService\"]) === \"function\" ? _a : Object, typeof (_b = typeof app_entities_tickets__WEBPACK_IMPORTED_MODULE_4__[\"TicketsService\"] !== \"undefined\" && app_entities_tickets__WEBPACK_IMPORTED_MODULE_4__[\"TicketsService\"]) === \"function\" ? _b : Object, typeof (_c = typeof ng_jhipster__WEBPACK_IMPORTED_MODULE_5__[\"JhiEventManager\"] !== \"undefined\" && ng_jhipster__WEBPACK_IMPORTED_MODULE_5__[\"JhiEventManager\"]) === \"function\" ? _c : Object, typeof (_d = typeof app_core__WEBPACK_IMPORTED_MODULE_6__[\"AccountService\"] !== \"undefined\" && app_core__WEBPACK_IMPORTED_MODULE_6__[\"AccountService\"]) === \"function\" ? _d : Object, typeof (_e = typeof app_shared_notification_service__WEBPACK_IMPORTED_MODULE_7__[\"NotificationService\"] !== \"undefined\" && app_shared_notification_service__WEBPACK_IMPORTED_MODULE_7__[\"NotificationService\"]) === \"function\" ? _e : Object])\r\n], ShoppingCartComponent);\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbWFpbi93ZWJhcHAvYXBwL2VudGl0aWVzL3Nob3BwaW5nLWNhcnQvc2hvcHBpbmctY2FydC5jb21wb25lbnQudHM/MzkwZiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBa0Q7QUFFRjtBQUNIO0FBR1M7QUFFUjtBQUNKO0FBQzBCO0FBT3BFLElBQWEscUJBQXFCLEdBQWxDLE1BQWEscUJBQXFCO0lBT2hDLFlBQ1UsV0FBd0IsRUFDeEIsYUFBNkIsRUFDM0IsWUFBNkIsRUFDN0IsY0FBOEIsRUFDOUIsbUJBQXdDO1FBSjFDLGdCQUFXLEdBQVgsV0FBVyxDQUFhO1FBQ3hCLGtCQUFhLEdBQWIsYUFBYSxDQUFnQjtRQUMzQixpQkFBWSxHQUFaLFlBQVksQ0FBaUI7UUFDN0IsbUJBQWMsR0FBZCxjQUFjLENBQWdCO1FBQzlCLHdCQUFtQixHQUFuQixtQkFBbUIsQ0FBcUI7UUFYNUMsWUFBTyxHQUFlLEVBQUUsQ0FBQztRQUl6QixXQUFNLEdBQUcsQ0FBQyxDQUFDO0lBUWhCLENBQUM7SUFDSixRQUFRO1FBQ04sSUFBSSxDQUFDLFdBQVcsRUFBRSxDQUFDO1FBQ25CLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLEVBQUU7WUFDakQsSUFBSSxDQUFDLFdBQVcsRUFBRSxDQUFDO1FBQ3JCLENBQUMsQ0FBQyxDQUFDO0lBQ0wsQ0FBQztJQUVNLFdBQVc7UUFDaEIsTUFBTSxRQUFRLEdBQWUsRUFBRSxDQUFDO1FBQ2hDLElBQUksQ0FBQyxPQUFPLEdBQUcsRUFBRSxDQUFDO1FBQ2xCLElBQUksQ0FBQyxXQUFXO2FBQ2IsS0FBSyxFQUFFO2FBQ1AsSUFBSSxDQUNILDZEQUFNLENBQUMsQ0FBQyxHQUEwQixFQUFFLEVBQUUsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEVBQzlDLDBEQUFHLENBQUMsQ0FBQyxHQUEwQixFQUFFLEVBQUUsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQzlDO2FBQ0EsU0FBUyxDQUNSLENBQUMsR0FBWSxFQUFFLEVBQUU7WUFDZixJQUFJLENBQUMsS0FBSyxHQUFHLEdBQUcsQ0FBQztZQUNqQixJQUFJLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQyxjQUFjLENBQUMsUUFBUSxFQUFFLENBQUMsSUFBSSxFQUFFLENBQUM7WUFDckQsSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUU7Z0JBQ3BCLElBQUksQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQztnQkFDM0IsSUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxNQUFNLEtBQUssSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO2dCQUNwRSxJQUFJLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsRUFBRTtvQkFDckIsSUFBSSxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsRUFBRTt3QkFDckQsSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDO29CQUNqQyxDQUFDLENBQUMsQ0FBQztnQkFDTCxDQUFDLENBQUMsQ0FBQztZQUNMLENBQUMsQ0FBQyxDQUFDO1FBQ0wsQ0FBQyxFQUNELENBQUMsR0FBc0IsRUFBRSxFQUFFLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsT0FBTyxDQUFDLENBQ3RELENBQUM7SUFDTixDQUFDO0lBRU0sTUFBTSxDQUFDLE1BQWdCO1FBQzVCLE1BQU0sU0FBUyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLFFBQVEsS0FBSyxNQUFNLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDakUsSUFBSSxDQUFDLFdBQVcsQ0FBQyxNQUFNLENBQUMsU0FBUyxDQUFDLEVBQUUsQ0FBQyxDQUFDLFNBQVMsRUFBRSxDQUFDO1FBQ2xELE1BQU0sQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDO1FBQ2pCLElBQUksQ0FBQyxhQUFhLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDLFNBQVMsRUFBRSxDQUFDO0lBQ2hELENBQUM7SUFFTyxPQUFPLENBQUMsT0FBZTtRQUM3QixPQUFPLENBQUMsR0FBRyxDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBQ3ZCLENBQUM7Q0FDRjtBQTFEWSxxQkFBcUI7SUFMakMsK0RBQVMsQ0FBQztRQUNULFFBQVEsRUFBRSxtQkFBbUI7UUFDN0IsNkJBQWEsa0hBQWdDO1FBQzdDLFNBQVMsbUJBQUcsa0hBQWlDO0tBQzlDLENBQUM7K0ZBU3VCLDZEQUFXLG9CQUFYLDZEQUFXLG9EQUNULG1FQUFjLG9CQUFkLG1FQUFjLG9EQUNiLDJEQUFlLG9CQUFmLDJEQUFlLG9EQUNiLHVEQUFjLG9CQUFkLHVEQUFjLG9EQUNULG1GQUFtQixvQkFBbkIsbUZBQW1CO0dBWnpDLHFCQUFxQixDQTBEakM7QUExRGlDIiwiZmlsZSI6Ii4vc3JjL21haW4vd2ViYXBwL2FwcC9lbnRpdGllcy9zaG9wcGluZy1jYXJ0L3Nob3BwaW5nLWNhcnQuY29tcG9uZW50LnRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29tcG9uZW50LCBPbkluaXQgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IENhcnQsIElDYXJ0IH0gZnJvbSAnYXBwL3NoYXJlZC9tb2RlbC9jYXJ0Lm1vZGVsJztcbmltcG9ydCB7IENhcnRTZXJ2aWNlIH0gZnJvbSAnYXBwL2VudGl0aWVzL2NhcnQnO1xuaW1wb3J0IHsgZmlsdGVyLCBtYXAgfSBmcm9tICdyeGpzL29wZXJhdG9ycyc7XG5pbXBvcnQgeyBIdHRwRXJyb3JSZXNwb25zZSwgSHR0cFJlc3BvbnNlIH0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uL2h0dHAnO1xuaW1wb3J0IHsgSVRpY2tldHMgfSBmcm9tICdhcHAvc2hhcmVkL21vZGVsL3RpY2tldHMubW9kZWwnO1xuaW1wb3J0IHsgVGlja2V0c1NlcnZpY2UgfSBmcm9tICdhcHAvZW50aXRpZXMvdGlja2V0cyc7XG5pbXBvcnQgeyBTdWJzY3JpcHRpb24gfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IEpoaUV2ZW50TWFuYWdlciB9IGZyb20gJ25nLWpoaXBzdGVyJztcbmltcG9ydCB7IEFjY291bnRTZXJ2aWNlIH0gZnJvbSAnYXBwL2NvcmUnO1xuaW1wb3J0IHtOb3RpZmljYXRpb25TZXJ2aWNlfSBmcm9tICdhcHAvc2hhcmVkL25vdGlmaWNhdGlvbi5zZXJ2aWNlJztcblxuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAnamhpLXNob3BwaW5nLWNhcnQnLFxuICB0ZW1wbGF0ZVVybDogJy4vc2hvcHBpbmctY2FydC5jb21wb25lbnQuaHRtbCcsXG4gIHN0eWxlVXJsczogWycuL3Nob3BwaW5nLWNhcnQuY29tcG9uZW50LnNjc3MnXVxufSlcbmV4cG9ydCBjbGFzcyBTaG9wcGluZ0NhcnRDb21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQge1xuICBwcml2YXRlIHRpY2tldHM6IElUaWNrZXRzW10gPSBbXTtcbiAgcHJpdmF0ZSBjYXJ0czogSUNhcnRbXTtcbiAgZXZlbnRTdWJzY3JpYmVyOiBTdWJzY3JpcHRpb247XG4gIHByaXZhdGUgYWNjb3VudDogUHJvbWlzZTxBY2NvdW50PjtcbiAgcHJpdmF0ZSB1c2VySWQgPSAwO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHByaXZhdGUgY2FydFNlcnZpY2U6IENhcnRTZXJ2aWNlLFxuICAgIHByaXZhdGUgdGlja2V0U2VydmljZTogVGlja2V0c1NlcnZpY2UsXG4gICAgcHJvdGVjdGVkIGV2ZW50TWFuYWdlcjogSmhpRXZlbnRNYW5hZ2VyLFxuICAgIHByb3RlY3RlZCBhY2NvdW50U2VydmljZTogQWNjb3VudFNlcnZpY2UsXG4gICAgcHJvdGVjdGVkIG5vdGlmaWNhdGlvblNlcnZpY2U6IE5vdGlmaWNhdGlvblNlcnZpY2VcbiAgKSB7fVxuICBuZ09uSW5pdCgpIHtcbiAgICB0aGlzLnJlZnJlc2hDYXJ0KCk7XG4gICAgdGhpcy5ub3RpZmljYXRpb25TZXJ2aWNlLmxpc3RlbigpLnN1YnNjcmliZShkYXRhID0+IHtcbiAgICAgIHRoaXMucmVmcmVzaENhcnQoKTtcbiAgICB9KTtcbiAgfVxuXG4gIHB1YmxpYyByZWZyZXNoQ2FydCgpIHtcbiAgICBjb25zdCBfdGlja2V0czogSVRpY2tldHNbXSA9IFtdO1xuICAgIHRoaXMudGlja2V0cyA9IFtdO1xuICAgIHRoaXMuY2FydFNlcnZpY2VcbiAgICAgIC5xdWVyeSgpXG4gICAgICAucGlwZShcbiAgICAgICAgZmlsdGVyKChyZXM6IEh0dHBSZXNwb25zZTxJQ2FydFtdPikgPT4gcmVzLm9rKSxcbiAgICAgICAgbWFwKChyZXM6IEh0dHBSZXNwb25zZTxJQ2FydFtdPikgPT4gcmVzLmJvZHkpXG4gICAgICApXG4gICAgICAuc3Vic2NyaWJlKFxuICAgICAgICAocmVzOiBJQ2FydFtdKSA9PiB7XG4gICAgICAgICAgdGhpcy5jYXJ0cyA9IHJlcztcbiAgICAgICAgICB0aGlzLmFjY291bnQgPSB0aGlzLmFjY291bnRTZXJ2aWNlLmlkZW50aXR5KCkudGhlbigpO1xuICAgICAgICAgIHRoaXMuYWNjb3VudC50aGVuKHggPT4ge1xuICAgICAgICAgICAgdGhpcy51c2VySWQgPSBOdW1iZXIoeC5pZCk7XG4gICAgICAgICAgICB0aGlzLmNhcnRzID0gdGhpcy5jYXJ0cy5maWx0ZXIoZGF0YSA9PiBkYXRhLnVzZXJJZCA9PT0gdGhpcy51c2VySWQpO1xuICAgICAgICAgICAgdGhpcy5jYXJ0cy5mb3JFYWNoKHkgPT4ge1xuICAgICAgICAgICAgICB0aGlzLnRpY2tldFNlcnZpY2UuZmluZCh5LnRpY2tldElkKS5zdWJzY3JpYmUodGlja2V0ID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLnRpY2tldHMucHVzaCh0aWNrZXQuYm9keSk7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIChyZXM6IEh0dHBFcnJvclJlc3BvbnNlKSA9PiB0aGlzLm9uRXJyb3IocmVzLm1lc3NhZ2UpXG4gICAgICApO1xuICB9XG5cbiAgcHVibGljIHJlbW92ZSh0aWNrZXQ6IElUaWNrZXRzKSB7XG4gICAgY29uc3QgY2FydEVudHJ5ID0gdGhpcy5jYXJ0cy5maW5kKHggPT4geC50aWNrZXRJZCA9PT0gdGlja2V0LmlkKTtcbiAgICB0aGlzLmNhcnRTZXJ2aWNlLmRlbGV0ZShjYXJ0RW50cnkuaWQpLnN1YnNjcmliZSgpO1xuICAgIHRpY2tldC5zdGF0ZSA9IDA7XG4gICAgdGhpcy50aWNrZXRTZXJ2aWNlLnVwZGF0ZSh0aWNrZXQpLnN1YnNjcmliZSgpO1xuICB9XG5cbiAgcHJpdmF0ZSBvbkVycm9yKG1lc3NhZ2U6IHN0cmluZykge1xuICAgIGNvbnNvbGUubG9nKCdFcnJvcicpO1xuICB9XG59XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/main/webapp/app/entities/shopping-cart/shopping-cart.component.ts\n");

/***/ })

})